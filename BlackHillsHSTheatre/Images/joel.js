// MODIFY SCHOOLWIRES UPCOMING EVENT DATES
// @author Joel Grannas - Creative Director, Schoolwires, Inc. 
// Last updated on 5/31/2012

(function(a){a.fn.modEvents=function(b){var c={columns:"yes",monthLong:"no"};if(b){a.extend(c,b)}return this.each(function(b,d){var e=this;var f=new Date;var g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var h=["January","February","March","April","May","June","July","August","September","October","November","December"];if(c.monthLong=="yes"){g=h}var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];a(".sw-calendar-block-date",e).each(function(){if(c.columns=="yes"){a(this).parent().addClass("ui-clear upcoming-column-container");a(this).siblings(".ui-article-description").wrap("<div class='upcoming-column right'></div>");a(this).wrap("<div class='upcoming-column left'></div>")}var b=a(this).text();switch(b){case"Today":a(this).html("<span class='joel-month'>"+g[f.getMonth()]+"</span>"+f.getDate());break;case"Tomorrow":f.setTime(f.getTime()+1e3*3600*24);a(this).html("<span class='joel-month'>"+g[f.getMonth()]+"</span>"+f.getDate());break;default:var d=b.split(",");if(d[1]){a(this).html("<span class='joel-month'>"+d[0].replace(" ","</span>"));if(c.monthLong=="no"){a(".joel-month",this).text(a(".joel-month",this).text().slice(0,3))}}else{var e=a.inArray(b,i);if(e>f.getDay()){var h=e-f.getDay()}else{var h=e-f.getDay()+7}f.setTime(f.getTime()+1e3*3600*24*h);a(this).html("<span class='joel-month'>"+g[f.getMonth()]+"</span>"+f.getDate())}break}});a(e).show()})}})(jQuery)