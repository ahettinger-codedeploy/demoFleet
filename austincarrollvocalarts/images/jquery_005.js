var jPlayerAndroidFix=function(e){var a=function(e,a,i,s,t){this.playFix=!1,this.init(e,a,i,s,t)};return a.prototype={init:function(a,i,s,t,l){var y=this;return this.id=a,this.media=i,this.options=s,this.playNext=t,this.playPause=l,this.player=e(this.id),this.player.bind(e.jPlayer.event.ready,function(){y.setMedia(y.media),y.playPause&&(y.playPause.click(function(){y.playPauseMusics()}),y.playPause.hasClass("play")&&y.play())}),this.player.bind(e.jPlayer.event.play,function(){y.playPause&&y.playPause.switchClass("pause","play")}),e.jPlayer.platform.android?(this.player.bind(e.jPlayer.event.progress,function(){y.playFixRequired&&(y.playFixRequired=!1,y.playFix&&(y.playFix=!1,e(this).jPlayer("play")))}),this.player.bind(e.jPlayer.event.ended,function(){y.endedFix&&(y.endedFix=!1,setTimeout(function(){e("ul.jp-toggles li a.jp-repeat-off").is(":hidden")?y.playNext():y.playFix=!0},0))}),this.player.bind(e.jPlayer.event.pause,function(a){if(y.endedFix){var i=a.jPlayer.status.duration-a.jPlayer.status.currentTime;(a.jPlayer.status.currentTime===0||1>i)&&setTimeout(function(){y.jPlayer._trigger(e.jPlayer.event.ended)},0),y.playPause&&y.playPause.switchClass("play","pause")}})):(this.player.bind(e.jPlayer.event.ended,function(){e("ul.jp-toggles li a.jp-repeat-off").is(":hidden")?y.playNext():y.player.jPlayer("play")}),this.player.bind(e.jPlayer.event.pause,function(){y.playPause&&y.playPause.switchClass("play","pause")})),this.player.jPlayer(this.options),this.jPlayer=this.player.data("jPlayer"),this.cssSelectorAncestor=this.player.jPlayer("option","cssSelectorAncestor"),this.resetAndroid(),this},setMedia:function(e){return this.media=e,this.resetAndroid(),this.player.jPlayer("setMedia",this.media),this},play:function(){e.jPlayer.platform.android&&this.playFixRequired?this.playFix=!0:this.player.jPlayer("play"),this.playPause&&this.playPause.switchClass("pause","play")},pause:function(){e.jPlayer.platform.android&&this.playFixRequired?this.playFix=!1:this.player.jPlayer("pause"),this.playPause&&this.playPause.switchClass("play","pause")},resetAndroid:function(){e.jPlayer.platform.android&&(this.playFix=!1,this.playFixRequired=!0,this.endedFix=!0)},playPauseMusics:function(){this.playPause&&this.playPause.hasClass("play")?this.pause():this.play()}},a}(jQuery);