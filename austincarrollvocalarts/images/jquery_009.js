(function(n){// Copyright (c) 2010, Wes Nolte (http://wesnolte.com)
n.fn.pajinate=function(t){function e(t){n("html, body").stop().animate({scrollTop:n(t.attr("data-box")).offset().top},1e3,"easeInOutExpo")}function r(t){new_page=parseInt(l.data(v))-1,n(t).siblings(".active").prev(".page_link").length==1&&(o(t,new_page),a(new_page))}function i(t){new_page=parseInt(l.data(v))+1,n(t).siblings(".active").next(".page_link").length==1&&(u(t,new_page),a(new_page))}function a(n){var e=parseInt(l.data(g));start_from=n*e,end_on=start_from+e;var r=h.hide().slice(start_from,end_on);r.show(),p.find(t.nav_panel_id).children(".page_link").find(" > a[longdesc="+n+"]").parent().addClass("active").siblings(".active").removeClass("active"),l.data(v,n),p.find(t.nav_info_id).html(t.nav_label_info.replace("{0}",start_from+1).replace("{1}",start_from+r.length).replace("{2}",h.length)),s(),c()}function u(e,r){var i=r,a=n(e).siblings(".active");a.siblings(".page_link").find(" > a[longdesc="+i+"]").parent().css("display")=="none"&&d.each(function(){n(this).children(".page_link").hide().slice(parseInt(i-t.num_page_links_to_display+1),i+1).show()})}function o(e,r){var i=r,a=n(e).siblings(".active");a.siblings(".page_link").find(" > a[longdesc="+i+"]").parent().css("display")=="none"&&d.each(function(){n(this).children(".page_link").hide().slice(i,i+parseInt(t.num_page_links_to_display)).show()})}function s(){d.children(".page_link:visible").hasClass("last")?d.children(".more").hide():d.children(".more").show(),d.children(".page_link:visible").hasClass("first")?d.children(".less").hide():d.children(".less").show()}function c(){d.children(".last").hasClass("active")?d.children(".next_link").addClass("disabled"):d.children(".next_link").removeClass("disabled"),d.children(".first").hasClass("active")?d.children(".previous_link").addClass("disabled"):d.children(".previous_link").removeClass("disabled")}var l,f,p,h,d,m,v="current_page",g="items_per_page",b={item_container_id:".pag_content",items_per_page:4,nav_panel_id:".pagination",nav_info_id:".info_text",num_page_links_to_display:5,start_page:0,nav_label_prev:"&laquo;",nav_label_next:"&raquo;",nav_order:["prev","num","next"],nav_label_info:"Showing {0}-{1} of {2} results"},t=n.extend(b,t);return this.each(function(){p=n(this),f=n(this).find(t.item_container_id),h=p.find(t.item_container_id).children(),l=p,l.data(v,0),l.data(g,t.items_per_page);for(var u=f.children().size(),o=Math.ceil(u/t.items_per_page),c='<li class="ellipse more"><span>...</span></li>',b='<li class="ellipse less"><span>...</span></li>',_="",y=0;y<t.nav_order.length;y++)switch(t.nav_order[y]){case"next":_+='<li class="next_link"><a href="">'+t.nav_label_next+"</a></li>";break;case"prev":_+='<li class="previous_link"><a href="">'+t.nav_label_prev+"</a></li>";break;case"num":_+=b;for(var x=0;o>x;)_+='<li class="page_link"><a href="" longdesc="'+x+'">'+(x+1)+"</a></li>",x++;_+=c}d=p.find(t.nav_panel_id),d.html(_).each(function(){n(this).find(".page_link:first").addClass("first"),n(this).find(".page_link:last").addClass("last")}),d.children(".ellipse").hide(),d.find(".previous_link").next().next().addClass("active"),h.hide(),h.slice(0,l.data(g)).show(),m=p.children(t.nav_panel_id+":first").children(".page_link").size(),t.num_page_links_to_display=Math.min(t.num_page_links_to_display,m),d.children(".page_link").hide(),d.each(function(){n(this).children(".page_link").slice(0,t.num_page_links_to_display).show()}),p.find(".previous_link > a").click(function(i){i.preventDefault(),e(n(this).parents(t.nav_panel_id)),r(n(this).parent())}),p.find(".next_link > a").click(function(r){r.preventDefault(),e(n(this).parents(t.nav_panel_id)),i(n(this).parent())}),p.find(".page_link > a").click(function(r){r.preventDefault(),e(n(this).parents(t.nav_panel_id)),a(n(this).attr("longdesc"))}),a(parseInt(t.start_page)),s()})}})(jQuery);