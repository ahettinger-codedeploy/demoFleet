/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var s=this;if(s.clk=i,"image"==i.type)if(void 0!==e.offsetX)s.clk_x=e.offsetX,s.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=n.offset();s.clk_x=e.pageX-o.left,s.clk_y=e.pageY-o.top}else s.clk_x=e.pageX-i.offsetLeft,s.clk_y=e.pageY-i.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var s=!!t.fn.prop;t.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var n,r,s=t.param(i,e.traditional).split("&"),o=s.length,a=[];for(n=0;o>n;n++)s[n]=s[n].replace(/\+/g," "),r=s[n].split("="),a.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return a}function o(n){for(var r=new FormData,s=0;s<n.length;s++)r.append(n[s].name,n[s].value);if(e.extraData){var o=i(e.extraData);for(s=0;s<o.length;s++)o[s]&&r.append(o[s][0],o[s][1])}e.data=null;var a=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(a.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(t){var i=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(i=Math.ceil(100*(n/r))),e.uploadProgress(t,n,r,i)},!1),i}),a.data=null;var c=a.beforeSend;return a.beforeSend=function(t,i){i.data=e.formData?e.formData:r,c&&c.call(this,t,i)},t.ajax(a)}function a(i){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function o(){function e(){try{var t=r(m).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(i){n("Server abort: ",i," (",i.name,")"),a(S),k&&clearTimeout(k),k=void 0}}var i=u.attr2("target"),s=u.attr2("action"),o="multipart/form-data",c=u.attr("enctype")||u.attr("encoding")||o;$.setAttribute("target",p),(!l||/post/i.test(l))&&$.setAttribute("method","POST"),s!=f.url&&$.setAttribute("action",f.url),f.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(k=setTimeout(function(){x=!0,a(T)},f.timeout));var h=[];try{if(f.extraData)for(var d in f.extraData)f.extraData.hasOwnProperty(d)&&h.push(t.isPlainObject(f.extraData[d])&&f.extraData[d].hasOwnProperty("name")&&f.extraData[d].hasOwnProperty("value")?t('<input type="hidden" name="'+f.extraData[d].name+'">').val(f.extraData[d].value).appendTo($)[0]:t('<input type="hidden" name="'+d+'">').val(f.extraData[d]).appendTo($)[0]);f.iframeTarget||v.appendTo("body"),m.attachEvent?m.attachEvent("onload",a):m.addEventListener("load",a,!1),setTimeout(e,15);try{$.submit()}catch(g){var b=document.createElement("form").submit;b.apply($)}}finally{$.setAttribute("action",s),$.setAttribute("enctype",c),i?$.setAttribute("target",i):u.removeAttr("target"),t(h).remove()}}function a(e){if(!b.aborted&&!D){if(A=r(m),A||(n("cannot access response document"),e=S),e===T&&b)return b.abort("timeout"),void C.reject(b,"timeout");if(e==S&&b)return b.abort("server abort"),void C.reject(b,"error","server abort");if(A&&A.location.href!=f.iframeSrc||x){m.detachEvent?m.detachEvent("onload",a):m.removeEventListener("load",a,!1);var i,s="success";try{if(x)throw"timeout";var o="xml"==f.dataType||A.XMLDocument||t.isXMLDoc(A);if(n("isXml="+o),!o&&window.opera&&(null===A.body||!A.body.innerHTML)&&--P)return n("requeing onLoad callback, DOM not available"),void setTimeout(a,250);var l=A.body?A.body:A.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=A.XMLDocument?A.XMLDocument:A,o&&(f.dataType="xml"),b.getResponseHeader=function(t){var e={"content-type":f.dataType};return e[t.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(f.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||f.textarea){var u=A.getElementsByTagName("textarea")[0];if(u)b.responseText=u.value,b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText;else if(h){var p=A.getElementsByTagName("pre")[0],g=A.getElementsByTagName("body")[0];p?b.responseText=p.textContent?p.textContent:p.innerText:g&&(b.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=O(b.responseText));try{j=F(b,c,f)}catch(y){s="parsererror",b.error=i=y||s}}catch(y){n("error caught: ",y),s="error",b.error=i=y||s}b.aborted&&(n("upload aborted"),s=null),b.status&&(s=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===s?(f.success&&f.success.call(f.context,j,"success",b),C.resolve(b.responseText,"success",b),d&&t.event.trigger("ajaxSuccess",[b,f])):s&&(void 0===i&&(i=b.statusText),f.error&&f.error.call(f.context,b,s,i),C.reject(b,"error",i),d&&t.event.trigger("ajaxError",[b,f,i])),d&&t.event.trigger("ajaxComplete",[b,f]),d&&!--t.active&&t.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,b,s),D=!0,f.timeout&&clearTimeout(k),setTimeout(function(){f.iframeTarget?v.attr("src",f.iframeSrc):v.remove(),b.responseXML=null},100)}}}var c,h,f,d,p,v,m,b,y,w,x,k,$=u[0],C=t.Deferred();if(C.abort=function(t){b.abort(t)},i)for(h=0;h<g.length;h++)c=t(g[h]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(f=t.extend(!0,{},t.ajaxSettings,e),f.context=f.context||f,p="jqFormIO"+(new Date).getTime(),f.iframeTarget?(v=t(f.iframeTarget),w=v.attr2("name"),w?p=w:v.attr2("name",p)):(v=t('<iframe name="'+p+'" src="'+f.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=v[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(r){}v.attr("src",f.iframeSrc),b.error=i,f.error&&f.error.call(f.context,b,i,e),d&&t.event.trigger("ajaxError",[b,f,i]),f.complete&&f.complete.call(f.context,b,i)}},d=f.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[b,f]),f.beforeSend&&f.beforeSend.call(f.context,b,f)===!1)return f.global&&t.active--,C.reject(),C;if(b.aborted)return C.reject(),C;y=$.clk,y&&(w=y.name,w&&!y.disabled&&(f.extraData=f.extraData||{},f.extraData[w]=y.value,"image"==y.type&&(f.extraData[w+".x"]=$.clk_x,f.extraData[w+".y"]=$.clk_y)));var T=1,S=2,E=t("meta[name=csrf-token]").attr("content"),_=t("meta[name=csrf-param]").attr("content");_&&E&&(f.extraData=f.extraData||{},f.extraData[_]=E),f.forceSync?o():setTimeout(o,10);var j,A,D,P=50,O=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},H=t.parseJSON||function(t){return window.eval("("+t+")")},F=function(e,i,n){var r=e.getResponseHeader("content-type")||"",s="xml"===i||!i&&r.indexOf("xml")>=0,o=s?e.responseXML:e.responseText;return s&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&r.indexOf("json")>=0?o=H(o):("script"===i||!i&&r.indexOf("javascript")>=0)&&t.globalEval(o)),o};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,h,u=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),h="string"==typeof c?t.trim(c):"",h=h||window.location.href||"",h&&(h=(h.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:h,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var f={};if(this.trigger("form-pre-serialize",[this,e,f]),f.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=e.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var p,g=[],v=this.formToArray(e.semantic,g);if(e.data&&(e.extraData=e.data,p=t.param(e.data,d)),e.beforeSubmit&&e.beforeSubmit(v,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,e,f]),f.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(v,d);p&&(m=m?m+"&"+p:p),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var b=[];if(e.resetForm&&b.push(function(){u.resetForm()}),e.clearForm&&b.push(function(){u.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};b.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(y,arguments)})}else e.success&&b.push(e.success);if(e.success=function(t,i,n){for(var r=e.context||this,s=0,o=b.length;o>s;s++)b[s].apply(r,[t,i,n||u,u])},e.error){var w=e.error;e.error=function(t,i,n){var r=e.context||this;w.apply(r,[t,i,n,u])}}if(e.complete){var x=e.complete;e.complete=function(t,i){var n=e.context||this;x.apply(n,[t,i,u])}}var k=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),$=k.length>0,C="multipart/form-data",T=u.attr("enctype")==C||u.attr("encoding")==C,S=r.fileapi&&r.formdata;n("fileAPI :"+S);var E,_=($||T)&&!S;e.iframe!==!1&&(e.iframe||_)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){E=a(v)}):E=a(v):E=($||T)&&S?o(v):t.ajax(e),u.removeData("jqxhr").data("jqxhr",E);for(var j=0;j<g.length;j++)g[j]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!t.isReady&&s.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(s.s,s.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var s,o=this[0],a=this.attr("id"),l=e?o.getElementsByTagName("*"):o.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=t(l).get()),a&&(s=t(':input[form="'+a+'"]').get(),s.length&&(l=(l||[]).concat(s))),!l||!l.length)return n;var c,h,u,f,d,p,g;for(c=0,p=l.length;p>c;c++)if(d=l[c],u=d.name,u&&!d.disabled)if(e&&o.clk&&"image"==d.type)o.clk==d&&(n.push({name:u,value:t(d).val(),type:d.type}),n.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}));else if(f=t.fieldValue(d,!0),f&&f.constructor==Array)for(i&&i.push(d),h=0,g=f.length;g>h;h++)n.push({name:u,value:f[h]});else if(r.fileapi&&"file"==d.type){i&&i.push(d);var v=d.files;if(v.length)for(h=0;h<v.length;h++)n.push({name:u,value:v[h],type:d.type});else n.push({name:u,value:"",type:d.type})}else null!==f&&"undefined"!=typeof f&&(i&&i.push(d),n.push({name:u,value:f,type:d.type,required:d.required}));if(!e&&o.clk){var m=t(o.clk),b=m[0];u=b.name,u&&!b.disabled&&"image"==b.type&&(n.push({name:u,value:m.val()}),n.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var s=0,o=r.length;o>s;s++)i.push({name:n,value:r[s]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;r>n;n++){var s=this[n],o=t.fieldValue(s,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(i,o):i.push(o))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,s=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==s&&-1==e.selectedIndex))return null;if("select"==s){var o=e.selectedIndex;if(0>o)return null;for(var a=[],l=e.options,c="select-one"==r,h=c?o+1:l.length,u=c?o:0;h>u;u++){var f=l[u];if(f.selected){var d=f.value;if(d||(d=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return d;a.push(d)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1});