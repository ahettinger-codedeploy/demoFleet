(function(){AO.views.SeoEditor.Main=Backbone.View.extend({initialize:function(){this.seo=new AO.views.SeoContent({el:this.$el.find("#content_seo_editor"),model:new AO.models.ContentSeo($.parseJSON($("#seo_op_data").html()))})}}),AO.views.SeoContent=Backbone.View.extend({initialize:function(){this.render()},render:function(){var t=_.template($("#content_seo").html(),this.model.toJSON());this.$el.html(t),this.keywords=this.$el.find("#meta_keywords_tag"),this.title=this.$el.find("#meta_title"),this.description=this.$el.find("#meta_description"),this.keywords.tagsinput(),this.model.unset("created_at"),this.model.unset("updated_at"),this.model.unset("url"),this.model.unset("user_id")},events:{"submit form":"save"},save:function(t){t.preventDefault();var e=this;return this.$el.find(".ao-seo-form-loading").removeClass("hidden"),this.model.save({title:e.title.val(),keywords:e.keywords.val(),description:e.description.val()},{url:"/metas",success:function(){e.$el.find(".ao-seo-form-loading").addClass("hidden"),document.title=e.model.get("title")},error:function(){e.$el.find(".ao-seo-form-loading").addClass("hidden")}}),!1}}),AO.models.ContentSeo=Backbone.Model.extend({defaults:{title:"",description:"",keywords:""}})})();