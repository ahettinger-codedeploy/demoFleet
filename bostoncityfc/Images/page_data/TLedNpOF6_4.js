/*!CK:705322003!*//*1455144109,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["QY1yL"]); }

__d("VideoChannelLoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"};},null);
__d("VideoChannelLoggerFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",VIDEO_CHAINING_CALLER:"video_chaining_caller",EVENT:"event",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id"};},null);
__d("VideoHomeEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",MARK_VISIT:"mark_visit",NAVIGATION:"navigation",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",BADGE_FETCHED:"badge_fetched",BADGE_COUNT_FETCH:"badge_count_fetch",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items"};},null);
__d("VideoHomeEventTargets",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",NONE:"none"};},null);
__d("VideoHomeExitPointTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",UNKNOWN:"unknown"};},null);
__d("VideoHomeLoggerFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BADGE_COUNT:"badge_count",BADGE_FETCH_REASON:"badge_fetch_reason",CHANNEL_ID:"channel_id",CLICK_TARGET:"click_target",DATA_SOURCE:"data_source",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",CHANNEL_POSITION:"channel_position",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REQUEST_STATUS:"request_status",OLD_BADGE_COUNT:"old_badge_count",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",NEW_BADGE_COUNT:"new_badge_count",SESSION_ID:"session_id",TIME_SINCE_START:"time_since_start",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_UNIT_ID:"reaction_unit_id",REACTION_UNIT_NAME:"reaction_unit_name"};},null);
__d("VideoPlayerInitializationEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};},null);
__d("VideoPlayerLoggerSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",EMBEDDED:"embedded",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",HTML5:"html5",INLINE:"inline",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",INSIGHTS:"insights",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SNOWLIFT:"snowlift",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_TV:"video_tv",VIDEOHUB_PLAYLIST:"videohub_playlist",VIDEOHUB_FEATURED:"videohub_featured",SLIDESHOW:"slideshow"};},null);
__d("VideoPlayerVersions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",LEGACY:"legacy",REFACTORED:"refactored",FNF:"fnf",UNKNOWN:"unknown"};},null);
__d("cancelAnimationFramePolyfill",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.clearTimeout;f.exports=h;},null);
__d('forwardEvent',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l));});}f.exports=h;},null);
__d('cancelAnimationFrame',['TimerStorage','cancelAnimationFramePolyfill'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();f.exports=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];h.unset(h.ANIMATION_FRAME,k[0]);return Function.prototype.apply.call(i,b,k);};},null);
__d('clearInterval',['TimerStorage'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=b.clearTimeout.nativeBackup||b.clearTimeout;f.exports=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];h.unset(h.INTERVAL,k[0]);return Function.prototype.apply.call(i,b,k);};},null);
__d('setInterval',['TimerStorage','setIntervalAcrossTransitions'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();f.exports=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];var m=i.apply(b,k);h.set(h.INTERVAL,m);return m;};},null);
__d('CacheStorage',['ErrorUtils','EventListener','ExecutionEnvironment','FBJSON','WebStorage'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n,o,p,q={memory:x,localstorage:v,sessionstorage:w},r='_@_',s='3b',t='CacheStorageVersion';function u(z){'use strict';this._store=z;}u.prototype.getStore=function(){'use strict';return this._store;};u.prototype.keys=function(){'use strict';var z=[];for(var aa=0;aa<this._store.length;aa++)z.push(this._store.key(aa));return z;};u.prototype.get=function(z){'use strict';return this._store.getItem(z);};u.prototype.set=function(z,aa){'use strict';this._store.setItem(z,aa);};u.prototype.remove=function(z){'use strict';this._store.removeItem(z);};u.prototype.clear=function(){'use strict';this._store.clear();};m=babelHelpers.inherits(v,u);n=m&&m.prototype;function v(){'use strict';n.constructor.call(this,l.getLocalStorage());}v.available=function(){'use strict';return !!l.getLocalStorage();};o=babelHelpers.inherits(w,u);p=o&&o.prototype;function w(){'use strict';p.constructor.call(this,l.getSessionStorage());}w.available=function(){'use strict';return !!l.getSessionStorage();};function x(){'use strict';this._store={};}x.prototype.getStore=function(){'use strict';return this._store;};x.prototype.keys=function(){'use strict';return Object.keys(this._store);};x.prototype.get=function(z){'use strict';if(this._store[z]===undefined)return null;return this._store[z];};x.prototype.set=function(z,aa){'use strict';this._store[z]=aa;};x.prototype.remove=function(z){'use strict';if(z in this._store)delete this._store[z];};x.prototype.clear=function(){'use strict';this._store={};};x.available=function(){'use strict';return true;};function y(z,aa){'use strict';this._key_prefix=aa||'_cs_';if(z=='AUTO'||!z)for(var ba in q){var ca=q[ba];if(ca.available()){z=ba;break;}}if(z)if(!q[z]||!q[z].available()){j.canUseDOM;this._backend=new x();}else this._backend=new q[z]();var da=this.useBrowserStorage();if(da)i.listen(window,'storage',this._onBrowserValueChanged.bind(this));var ea=da?this._backend.getStore().getItem(t):this._backend.getStore()[t];if(ea!==s)this.clear();}y.prototype.useBrowserStorage=function(){'use strict';return this._backend.getStore()===l.getLocalStorage()||this._backend.getStore()===l.getSessionStorage();};y.prototype.addValueChangeCallback=function(z){'use strict';this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(z);return {remove:(function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(z),1);}).bind(this)};};y.prototype._onBrowserValueChanged=function(z){'use strict';if(this._changeCallbacks&&String(z.key).startsWith(this._key_prefix))this._changeCallbacks.forEach(function(aa){aa(z.key,z.oldValue,z.newValue);});};y.prototype.keys=function(){'use strict';var z=[];h.guard((function(){if(this._backend){var aa=this._backend.keys(),ba=this._key_prefix.length;for(var ca=0;ca<aa.length;ca++)if(aa[ca].substr(0,ba)==this._key_prefix)z.push(aa[ca].substr(ba));}}).bind(this),'CacheStorage')();return z;};y.prototype.set=function(z,aa,ba){'use strict';if(this._backend){var ca;if(typeof aa=='string'){ca=r+aa;}else if(!ba){ca={__t:Date.now(),__v:aa};ca=k.stringify(ca);}else ca=k.stringify(aa);var da=this._backend,ea=this._key_prefix+z,fa=true;while(fa)try{da.set(ea,ca);fa=false;}catch(ga){var ha=da.keys().length;this._evictCacheEntries();fa=da.keys().length<ha;}}};y.prototype._evictCacheEntries=function(){'use strict';var z=[],aa=this._backend;aa.keys().forEach(function(ca){if(ca===t)return;var da=aa.get(ca);if(da===undefined){aa.remove(ca);return;}if(y._hasMagicPrefix(da))return;try{da=k.parse(da,f.id);}catch(ea){aa.remove(ca);return;}if(da&&da.__t!==undefined&&da.__v!==undefined)z.push([ca,da.__t]);});z.sort(function(ca,da){return ca[1]-da[1];});for(var ba=0;ba<Math.ceil(z.length/2);ba++)aa.remove(z[ba][0]);};y.prototype.get=function(z,aa){'use strict';var ba;if(this._backend){h.applyWithGuard(function(){ba=this._backend.get(this._key_prefix+z);},this,null,function(){ba=null;},'CacheStorage:get');if(ba!==null){if(y._hasMagicPrefix(ba)){ba=ba.substr(r.length);}else try{ba=k.parse(ba,f.id);if(ba&&ba.__t!==undefined&&ba.__v!==undefined)ba=ba.__v;}catch(ca){ba=undefined;}}else ba=undefined;}if(ba===undefined&&aa!==undefined){ba=aa;this.set(z,ba);}return ba;};y.prototype.remove=function(z){'use strict';if(this._backend)h.applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+z],null,'CacheStorage:remove');};y.prototype.clear=function(){'use strict';if(this._backend){h.applyWithGuard(this._backend.clear,this._backend,null,null,null,'CacheStorage:clear');if(this.useBrowserStorage()){this._backend.getStore().setItem(t,s);}else this._backend.getStore()[t]=s;}};y.getAllStorageTypes=function(){'use strict';return Object.keys(q);};y._hasMagicPrefix=function(z){'use strict';return z.substr(0,r.length)===r;};f.exports=y;},null);
__d('TimeSpentImmediateActiveSecondsLogger',['Banzai','ImmediateActiveSecondsConfig','ScriptPath'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='immediate_active_seconds',l={signal:true,retry:true},m=i.sampling_rate,n=i.ias_bucket,o=0;function p(t){if(m<=0)return false;var u=Math.floor(t/1000)%m;return u===n;}function q(t){if(t>=o&&t-o<1000)return;if(p(t)){var u={activity_time_ms:t,last_activity_time_ms:o,script_path:j.getTopViewEndpoint()};try{h.post(k,u,l);}catch(v){}}o=Math.floor(t/1000)*1000;}function r(event,t,u){if(v<0||w<0||v>w)return;var v=Math.floor(t/1000),w=Math.floor(u/1000);if(!s(v,w))return;var x={event:event,start_time_ms:t,end_time_ms:u};h.post(k,x,l);}function s(t,u){if(m<=0)return false;if(u-t>=m)return true;var v=t+(n-t%m+m)%m;return v<=u;}f.exports={maybeReportActiveSecond:q,maybeReportActiveInterval:r};},null);
__d("HTMLMediaElementReadyStates",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;},null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){if(j.readyState>=h.HAVE_METADATA){return j.muted;}else return j.hasAttribute('muted')||j.muted;}f.exports=i;},null);
__d('HVideoPlayerMixin',['EventListener','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=-1;function n(p,event){var q=event.timeStamp;if(q){var r=q.toString().length-Date.now().toString().length;if(r!==0)q=Math.round(q/Math.pow(10,r));p.time_ms=q;}else p.time_ms=Date.now();return p;}var o={initLogger:function(p,q){var r=this.getSubscriptions();this._loggedEvents={};this._logFunction=p;this._useEventTime=q;var s=this.getVideoElement();this._lastStartTimePosition=m;this._muted=k(s);this._pausedPosition=m;this._seeking=false;this._seekSourceTimePosition=m;this._volume=s.volume;this._lastPlayedTime=m;if(s.readyState>=s.HAVE_FUTURE_DATA){this._logReadyToPlay();}else r.addSubscriptions(h.listen(s,'canplay',this._logReadyToPlay.bind(this)));r.addSubscriptions(h.listen(s,'pause',this._onPause.bind(this)),h.listen(s,'playing',this._onPlaying.bind(this)),h.listen(s,'seeked',this._onSeeked.bind(this)),h.listen(s,'seeking',this._onSeeking.bind(this)),h.listen(s,'play',this._onPlay.bind(this)),h.listen(s,'timeupdate',this._onTimeUpdate.bind(this)),h.listen(s,'volumechange',this._onVolumeChange.bind(this)));},_onPlay:function(){this._pendingPlayRequest=true;},_logOnce:function(event,p){if(this._loggedEvents[event])return;this._logEvent(event,p);},_logEvent:function(event,p){this._loggedEvents[event]=true;var q=p?p:{};q.video_id=this.getVideoID();if(!q.hasOwnProperty('video_time_position'))q.video_time_position=this.getVideoElement().currentTime.toFixed(2);if(!q.time_ms)q.time_ms=j.useMonotonicallyIncreasingTimers?l():Date.now();q.time=Math.round(q.time_ms/1000);if(this.getAdClientToken){var r=this.getAdClientToken();if(r)q.ad_client_token=r;}if(this.getChainData){var s=this.getChainData();if(s){q.video_chaining_depth_level=s.video_chaining_depth_level;q.video_chaining_session_id=s.video_chaining_session_id;}}if(this.getPlayerFormat)q.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)q.player_origin=this.getPlayerOrigin();this._logFunction(event,q);},_logReadyToPlay:function(){this._logOnce(i.READY_TO_PLAY);},_onPause:function(p){var q=this.getVideoElement();if(this._pendingPlayRequest){var r={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(i.CANCELLED_REQUESTED_PLAYING,r);return;}var event=q.ended?i.FINISHED_PLAYING:i.PAUSED;if(q.currentTime)this._lastPlayedTime=q.currentTime.toFixed(2);var s=this._lastPlayedTime,t=p.lastPauseReason;if(event===i.FINISHED_PLAYING){s=Math.max(s,q.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)t=t||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:s,debug_reason:t},p));this._lastStartTimePosition=m;},addWatchTimeData:function(p){if(this._lastStartTimePosition!=m&&this._lastPlayedTime!=m){p.video_last_start_time_position=this._lastStartTimePosition;p.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=m;}return p;},getLastPlayReason:function(){return null;},getVideoPlayReason:function(){return null;},_onPlaying:function(p){var q=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[i.STARTED_PLAYING]?i.UNPAUSED:i.STARTED_PLAYING,r={debug_reason:q,video_play_reason:this.getVideoPlayReason()};this._logEvent(event,this._amendEventTime(r,p));this._lastStartTimePosition=this.getVideoElement().currentTime.toFixed(2);this._lastPlayedTime=this.getVideoElement().currentTime.toFixed(2);},_onSeeked:function(p){var q={video_seek_source_time_position:this._seekSourceTimePosition};if(this._lastStartTimePosition!==m){q.video_last_start_time_position=this._lastStartTimePosition;}else q.video_last_start_time_position=this._seekSourceTimePosition;this._logEvent(i.SCRUBBED,this._amendEventTime(q,p));var r=this.getVideoElement();if(r.paused){this._lastStartTimePosition=m;}else this._lastStartTimePosition=r.currentTime;this._seekSourceTimePosition=m;this._seeking=false;},_onSeeking:function(){if(!this._seeking){this._seekSourceTimePosition=this.getVideoElement().currentTime.toFixed(2);this._seeking=true;}},_onTimeUpdate:function(){var p=this.getVideoElement();if(!p.paused)this._lastPlayedTime=p.currentTime.toFixed(2);},_onVolumeChange:function(p){var q=this.getVideoElement(),r={},event=null;if(q.muted!==this._muted&&q.volume===this._volume&&q.volume>0){event=q.muted?i.MUTED:i.UNMUTED;}else{event=q.volume>this._volume?i.VOLUME_INCREASE:i.VOLUME_DECREASE;r.current_volume=Math.round(q.volume*100);}this._logEvent(event,this._amendEventTime(r,p));this._muted=q.muted;this._volume=q.volume;},_amendEventTime:function(p,event){if(j.useMonotonicallyIncreasingTimers)return p;if(this._useEventTime)return n(p,event);return p;}};f.exports=o;},null);
__d('VideoChannelViewChainLengthManager',['guid','Map'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={generateNewSessionID:function(){this._currentSessionID=h();this._videoIDToDepthMap=new i();},getLoggingData:function(){return {video_chaining_depth_level:this.getCurrentChainLength(),video_chaining_session_id:this.getCurrentSessionID()};},registerChainingInfos:function(k,l){var m=k;if(l){var n=l.decode();m=n.root_id;}if(m)m=m.toString();this.registerVideoID(m,k);},registerVideoID:function(k,l){var m=0;if(k!==l)m=1;if(!this._currentRootVideoID||this._currentRootVideoID!==k){this.generateNewSessionID();this._currentRootVideoID=k;this._chainLength=m;this._videoIDToDepthMap.set(l,m);}if(!this._videoIDToDepthMap.has(l)){this._chainLength++;this._videoIDToDepthMap.set(l,this._chainLength);}this._currentVideoID=l;},getCurrentSessionID:function(){return this._currentSessionID;},getCurrentChainLength:function(){if(!this._currentVideoID||!this._videoIDToDepthMap)return null;return this._videoIDToDepthMap.get(this._currentVideoID);}};f.exports=j;},null);
__d('VideoPlayerLoggerErrorStates',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};},null);
__d('VideoPlayerLoggerErrors',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};},null);
__d('VideoPlayerLoggerPlayerStates',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={STARTED:'started',UNPAUSED:'unpaused'};},null);
__d('VideoPlayerLogger',['Banzai','ErrorUtils','TimeSpentImmediateActiveSecondsLogger','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerInitializationEvent','VideoPlayerLoggerPlayerStates','ex','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u='video_player';function v(){return k.useMonotonicallyIncreasingTimers?t():Date.now();}function w(x,y){'use strict';this.$VideoPlayerLogger1=x;this.$VideoPlayerLogger2=null;this.$VideoPlayerLogger3={};this.$VideoPlayerLogger4=y;this.$VideoPlayerLogger5=0;this.$VideoPlayerLogger6();}w.prototype.updateSource=function(x){'use strict';this.$VideoPlayerLogger1=x;};w.prototype.logEvent=function(event,x){'use strict';x=babelHelpers._extends({},x,this.$VideoPlayerLogger4);x.initial_event=!this.$VideoPlayerLogger3.hasOwnProperty(event);if(!x.hasOwnProperty('time_ms'))x.time_ms=v();if(!x.hasOwnProperty('time'))x.time=Math.round(x.time_ms/1000);x.is_stalling=this.$VideoPlayerLogger7>0;if(this.$VideoPlayerLogger2)Object.assign(x,this.$VideoPlayerLogger2);switch(event){case q.PLAYER_INITIALIZATION:this.$VideoPlayerLogger8=x.time_ms;break;case q.REQUESTED_PLAYING:case q.STARTED_PLAYING:case q.PLAYER_ALLOCATED:case q.PLAYER_SENT_REQUEST:case q.PLAYER_RECEIVED_FIRST_BYTE:case q.BUFFER_READY:case q.METADATA_READY:if(!x.initial_event)break;x.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger8;break;}switch(event){case l.REQUESTED_PLAYING:this.$VideoPlayerLogger6();this.$VideoPlayerLogger9();if(this.$VideoPlayerLogger3[l.STARTED_PLAYING]){x.state=r.UNPAUSED;}else x.state=r.STARTED;break;case l.STARTED_PLAYING:case l.UNPAUSED:case l.FINISHED_PLAYING:case l.CANCELLED_REQUESTED_PLAYING:case l.ERROR:case l.PAUSED:if(event===l.ERROR&&x.state!==n.PLAYBACK_FAILURE)break;if(event===l.CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger3[l.STARTED_PLAYING]){x.state=r.UNPAUSED;}else x.state=r.STARTED;this.$VideoPlayerLogger10();this.$VideoPlayerLogger11(x);this.$VideoPlayerLogger6();break;}var y={logData:x,event:event,scriptPath:this.$VideoPlayerLogger12,source:this.$VideoPlayerLogger1};if(!event)i.reportError(new Error(s('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger3[event]=true;if(this.$VideoPlayerLogger1===p.ANIMATED_IMAGE_SHARE)return;if(x.ad_client_token){h.post(u,y,h.VITAL);}else h.post(u,y);if(event===l.FINISHED_PLAYING||event===l.PAUSED){var z=x.time_ms||v(),aa=x.video_time_position-x.video_last_start_time_position;if(aa>=0)j.maybeReportActiveInterval('video',z-Math.floor(aa*1000),z);}};w.prototype.setScriptPath=function(x){'use strict';this.$VideoPlayerLogger12=x;};w.prototype.setFTData=function(x){'use strict';this.$VideoPlayerLogger2=x;};w.prototype.startBuffering=function(x){'use strict';this.$VideoPlayerLogger9(x);};w.prototype.endBuffering=function(){'use strict';this.$VideoPlayerLogger10();};w.prototype.$VideoPlayerLogger9=function(x){'use strict';if(this.$VideoPlayerLogger7<=0){this.$VideoPlayerLogger7=Date.now();if(this.$VideoPlayerLogger3[l.STARTED_PLAYING]&&x!==undefined)this.$VideoPlayerLogger13=x;}};w.prototype.$VideoPlayerLogger10=function(){'use strict';if(this.$VideoPlayerLogger7>0){var x=Date.now()-this.$VideoPlayerLogger7;if(this.$VideoPlayerLogger13!==null)this.$VideoPlayerLogger14=x;this.$VideoPlayerLogger15=this.$VideoPlayerLogger15+x;this.$VideoPlayerLogger5=this.$VideoPlayerLogger5+x;this.$VideoPlayerLogger16++;this.$VideoPlayerLogger7=0;}};w.prototype.getCurrentStallTime=function(){'use strict';return this.$VideoPlayerLogger5;};w.prototype.$VideoPlayerLogger11=function(x){'use strict';x.stall_time=Math.max(0,this.$VideoPlayerLogger15);x.stall_count=this.$VideoPlayerLogger16;if(this.$VideoPlayerLogger14){x.first_stall_time=this.$VideoPlayerLogger14;x.first_stall_start_position=this.$VideoPlayerLogger13;}};w.prototype.$VideoPlayerLogger6=function(){'use strict';this.$VideoPlayerLogger15=0;this.$VideoPlayerLogger7=0;this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger13=null;this.$VideoPlayerLogger14=0;};Object.assign(w,{Sources:p,Errors:m,FallbackReasons:o,ErrorStates:n,PlayerStates:r});f.exports=w;},null);
__d("XPubcontentRelatedVideoInlineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}});},null);
__d('EntstreamAttachmentRelatedFBVideo',['Arbiter','AsyncRequest','AttachmentRelatedShareConstants','csx','cx','CSS','DOM','DOMQuery','Event','ge','Parent','VideoPlayerReason','XPubcontentRelatedVideoInlineController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u={addHoverListener:function(v,w){var x=q(w),y=n.scry(x,"^div._3f-c")[0];p.listen(y,'mouseover',this.doHover.bind(this,v));p.listen(y,'mouseout',this.doHoverOut.bind(this,v));},addClickOutListener:function(v,w){var x=q(w);p.listen(x,'click',this.doHoverOut.bind(this,v));},doHover:function(v){v.play(s.USER);v.mute();},doHoverOut:function(v,w){v.pause(s.USER);},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function(v,w,x,y,z,aa,ba,ca){var da=null;if(typeof w==='string'){da=q(w);}else da=w;if(!da)return;var ea=null;if(typeof v==='string'){ea=q(v);}else ea=v;if(!ea)return;p.listen(ea,'click',function(event){var fa=event.srcElement?event.srcElement:event.target;if(fa)for(var ga in aa){var ha=q(aa[ga]);if(ha&&o.contains(ha,fa))return;}if(event.isDefaultRequested())return;event.preventDefault();var ia=null;if(z){var ja=n.scry(da,"^ul._5h5a")[0];if(!ja)return;ia=ja.previousSibling;}else ia=ea.children[0];setTimeout(function(){var ka=t.getURIBuilder();ka.setInt('fbvideo_id',x);ka.setString('query_id',ba);ka.setString('mf_story_key',ca);new i().setURI(ka.getURI()).setRelativeTo(ia).send();},1000);});},loadRelatedLSCInlineFBVideoAttachment:function(v,w,x,y,z){var aa=null;if(!aa)return;p.listen(aa,'click',function(event){if(event.isDefaultRequested())return;event.preventDefault();var ba="^div._4-u2",ca="_4zdu",da=n.scry(aa,ba),ea=da.length===1?da[0]:null,fa=ea.parentNode,ga=fa.previousSibling;while(!ga){fa=fa.parentNode;ga=fa.previousSibling;}if(!m.hasClass(ga,ca)){var ha=n.create('div',{className:ca}),ia=n.insertBefore(ea.parentNode,ha),ja=ia.length>=1?ia[0]:null;}else ja=ga;if(ja.childNodes[0])m.hide(ja.childNodes[0]);var ka="div._4icy",la=n.scry(fa,ka)[0];if(la){var ma="_4icx";m.setClass(la,ma);}setTimeout(function(){var na=t.getURIBuilder();na.setInt('fbvideo_id',w);na.setString('query_id',y);na.setString('mf_story_key',z);new i().setURI(na.getURI()).setRelativeTo(ja).send();if(x)h.inform(j.FBVIDEO_CLICK,{attachment:aa,fbvideo_id:w,continued_chaining:true});if(la)if(x){n.remove(la);}else m.setClass(la,"_4icy");},1000);});},loadRelatedFBVideos:function(v,w){var x=q(v);if(!x)return;var y="_4zdu",z=r.byClass(x,y);if(z)return;var aa=p.listen(x,'click',function(){aa.remove();h.inform(j.FBVIDEO_CLICK,{attachment:x,fbvideo_id:w});});}};f.exports=u;},null);
__d('NavigationMessage',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={NAVIGATION_BEGIN:'NavigationMessage/navigationBegin',NAVIGATION_SELECT:'NavigationMessage/navigationSelect',NAVIGATION_FIRST_RESPONSE:'NavigationMessage/navigationFirstResponse',NAVIGATION_COMPLETED:'NavigationMessage/navigationCompleted',NAVIGATION_FAILED:'NavigationMessage/navigationFailed',NAVIGATION_COUNT_UPDATE:'NavigationMessage/navigationCount',NAVIGATION_FAVORITE_UPDATE:'NavigationMessage/navigationFavoriteUpdate',NAVIGATION_ITEM_REMOVED:'NavigationMessage/navigationItemRemoved',NAVIGATION_ITEM_HIDDEN:'NavigationMessage/navigationItemHidden',INTERNAL_LOADING_BEGIN:'NavigationMessage/internalLoadingBegin',INTERNAL_LOADING_COMPLETED:'NavigationMessage/internalLoadingCompleted'};f.exports=h;},null);
__d('LitestandMessages',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={NEWSFEED_LOAD:'LitestandMessages/NewsFeedLoad',LEAVE_HOME:'LitestandMessages/LeaveHome',STORIES_REQUESTED:'LitestandMessages/StoriesRequested',STORIES_INSERTED:'LitestandMessages/StoriesInserted',NEWER_STORIES_INSERTED:'LitestandMessages/NewerStoriesInserted',NEW_STORIES_CONTAINER_CREATED:'LitestandMessages/NewStoriesContainer',RHC_RELOADED:'LitestandMessages/RHCReloaded'};f.exports=h;},null);
__d("DOMWrapper",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j={setRoot:function(k){h=k;},getRoot:function(){return h||document.body;},setWindow:function(k){i=k;},getWindow:function(){return i||self;}};f.exports=j;},null);
__d('Flash',['DOMEventListener','DOMWrapper','QueryString','UserAgent_DEPRECATED','guid','htmlSpecialChars'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={},o,p=i.getWindow().document;function q(v){var w=p.getElementById(v);if(w)w.parentNode.removeChild(w);delete n[v];}function r(){for(var v in n)if(n.hasOwnProperty(v))q(v);}function s(v){return v.replace(/\d+/g,function(w){return '000'.substring(w.length)+w;});}function t(v){if(!o){if(k.ie()>=9)h.add(window,'unload',r);o=true;}n[v]=v;}var u={embed:function(v,w,x,y){var z=l();v=m(v).replace(/&amp;/g,'&');x=babelHelpers._extends({allowscriptaccess:'always',flashvars:y,movie:v},x);if(typeof x.flashvars=='object')x.flashvars=j.encode(x.flashvars);var aa=[];for(var ba in x)if(x.hasOwnProperty(ba)&&x[ba])aa.push('<param name="'+m(ba)+'" value="'+m(x[ba])+'">');var ca=w.appendChild(p.createElement('span')),da='<object '+(k.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+v+'" '+(x.height?'height="'+x.height+'" ':'')+(x.width?'width="'+x.width+'" ':'')+'id="'+z+'">'+aa.join('')+'</object>';ca.innerHTML=da;var ea=ca.firstChild;t(z);return ea;},remove:q,getVersion:function(){var v='Shockwave Flash',w='application/x-shockwave-flash',x='ShockwaveFlash.ShockwaveFlash',y;if(navigator.plugins&&typeof navigator.plugins[v]=='object'){var z=navigator.plugins[v].description;if(z&&navigator.mimeTypes&&navigator.mimeTypes[w]&&navigator.mimeTypes[w].enabledPlugin)y=z.match(/\d+/g);}if(!y)try{y=new ActiveXObject(x).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);y=Array.prototype.slice.call(y,1);}catch(aa){}return y;},getVersionString:function(){var v=u.getVersion();return v?v.join('.'):'';},checkMinVersion:function(v){var w=u.getVersion();if(!w)return false;return s(w.join('.'))>=s(v);},isAvailable:function(){return !!u.getVersion();}};f.exports=u;},null);
__d('UserActivity',['Arbiter','Event'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=5000,k=500,l=-5,m=Date.now(),n=m,o=false,p=Date.now(),q=document.hasFocus?document.hasFocus():true,r=0,s=Date.now(),t=-1,u=-1,v={subscribeOnce:function(z){var aa=v.subscribe(function(){v.unsubscribe(aa);z();});return aa;},subscribe:function(z){return h.subscribe('useractivity/activity',z);},unsubscribe:function(z){z.unsubscribe();},isActive:function(z){return new Date()-m<(z||j);},isOnTab:function(){return q;},hasBeenInactive:function(){return o;},resetActiveStatus:function(){q=true;o=false;},getLastInActiveEnds:function(){return p;},getLastActive:function(){return m;},setIdleTime:function(z){r=z;},getLastLeaveTime:function(){return s;},getLastInformTime:function(){return n;}};function w(event){if(event instanceof MouseEvent){if(event.pageX==t&&event.pageY==u&&event.type!='click')return;t=event.pageX;u=event.pageY;}m=Date.now();var z=m-n;if(z>k){n=m;if(!q)s=m;if(z>=(r||j)){o=true;p=m;}h.inform('useractivity/activity',{event:event,idleness:z,last_inform:n});}else if(z<l)n=m;}function x(event){q=true;p=Date.now();w(event);}function y(event){q=false;o=true;s=Date.now();}i.listen(window,'scroll',w);i.listen(window,'focus',x);i.listen(window,'blur',y);i.listen(document.documentElement,{DOMMouseScroll:w,mousewheel:w,keydown:w,mouseover:w,mousemove:w,click:w});h.subscribe('Event/stop',function(z,aa){w(aa.event);});f.exports=v;},null);
__d('ViewportTrackingHelper',['Event','Vector','getViewportDimensions'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getScrollListener:function(l){return h.listen(window,'scroll',l);},looseIsVisible:function(l,m){if(!l.x&&!l.y&&!l.width&&!l.height)return false;var n=i.getScrollPosition().y,o=j().height,p=o+m-n;return l.y<p;},isVisible:function(l,m){if(!l.x&&!l.y&&!l.width&&!l.height)return false;var n=j().height,o=Math.max(l.y,0),p=Math.min(l.y+l.height,n),q=Math.min(l.height,m);return p-o>=q;},isDescendantOf:function(l,m){if(l===m)return l;while(l&&l.parentNode){if(l.parentNode===m)return l;l=l.parentNode;}return false;}};f.exports=k;},null);
__d('ViewportTracking',['Arbiter','AsyncSignal','Banzai','BanzaiScuba','CSS','CurrentUser','DOM','DOMDimensions','Event','LitestandMessages','NavigationMessage','Run','SubscriptionsHandler','UserActivity','Vector','ViewportTrackingHelper','clickRefAction','collectDataAttributes','cx','debounce','getElementPosition','getViewportDimensions','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea=97,fa=51,ga='vpv',ha='/feed/feed_tracking/vpv_waterfall_logging',ia=3,ja=2,ka=1,la=0,ma=1,na=2,oa=3,pa=4;function qa(){'use strict';}qa.prototype.init=function(ra){'use strict';this.useBanzai=true;this.viewportHeightRatio=ra.viewport_height_ratio?ra.viewport_height_ratio:.25;this.vpvDebug=!!ra.vpv_debug;this.vpvdDebug=!!ra.vpvd_debug;this.vpvdAnalysis=!!ra.vpvd_analysis;this.useWaterfallLogging=!!ra.waterfall_logging;this.loggedStoryIDs={};this.readStoryIDs={};this.annotatedStoryIDs={};this.minSizeToBeVisible=200;this.minFractionToBeVisibleForTimetracking=.5;this.scrollThrottlingInterval=100;this.mouseThrottlingInterval=100;this.keyboardThrottlingInterval=100;this.minTimeToReportImmediately=500;this.discardVPVDIntervalThreshold=90000;this.active_state_duration=1000;this.height_diff_to_change_state=25;this.focused_state_duration=3500;this.invalidateAllStoriesCache();this.cachedViewportHeight=ca().height;this.isTimetrackingEnabled=0;this.activeStories={};this.userInactiveLock=false;this.userActivityPollerTimeoutID=-1;this._headLoadStoryCount=0;this.getDataFromConfig(ra);if(this.isTimetrackingEnabled){this.lastMouseX=-1;this.lastMouseY=-1;this.lastStreamY=-1;this.latestStreamYChangedTimeStamp=-1;this.userFocus=na;this.latestUserFocus=na;this.latestUserActivity='init';this.focusedStory=null;this.latestFocusedStory=null;this.latestActiveStory=null;this.totalVPVDuration={};}this.isLoose=!!ra.is_loose;this.maxScrollPosition=0;if(ra.tracking_duration_config){this.scrollThrottlingInterval=ra.tracking_duration_config.scroll_throttling_interval;this.mouseThrottlingInterval=ra.tracking_duration_config.mouse_throttling_interval;this.keyboardThrottlingInterval=ra.tracking_duration_config.keyboard_throttling_interval;this.userActivityPollingInterval=ra.tracking_duration_config.user_activity_polling_interval;this.timeToBeConsideredInactive=ra.tracking_duration_config.time_to_be_considered_inactive;this.minFractionToBeVisibleForTimetracking=ra.tracking_duration_config.min_fraction_to_be_visible;this.minTimeToReportImmediately=ra.tracking_duration_config.min_time_to_report_immediately;this.active_state_duration=ra.tracking_duration_config.active_state_duration;this.height_diff_to_change_state=ra.tracking_duration_config.story_height_diff_to_change_state;this.focused_state_duration=ra.tracking_duration_config.focused_state_duration;this.discardVPVDIntervalThreshold=ra.tracking_duration_config.discard_vpvd_interval_threshold;}var sa,ta=aa(this.fireTimer,this.getTimeout(),this);if(this.isLoose){this.minSizeToBeVisible=0;sa=da((function(){this.maxScrollPosition=Math.max(this.maxScrollPosition,v.getScrollPosition().y);ta();}).bind(this));}else sa=ta;this.initialStories=this.getStoriesInView();this.initialStoriesLogged=false;if(this.annotatedVPVLogging)this.initialStories.forEach(this.logAnnotatedVPV,this);if(this.useWaterfallLogging)this.getStoriesInView().forEach(function(xa){this.waterfallLogStep(xa,'100_all_stories_in_view_ignore_height',true);},this);this.vpvHeartBeatInterval=ra.vpv_heartbeat_interval;this.passVPVHeartbeatGK=ra.use_vpv_heartbeat;if(this.passVPVHeartbeatGK){this.intervalCount=1;this.fireTimerCount=1;this.storiesInView=this.initialStories?this.initialStories:this.getStoriesInView();this.vpvHeartBeatIntervalSignal=setInterval((function(){this._sendSignal('interval');}).bind(this),this.vpvHeartBeatInterval);}this.subscriptions=new t();this.subscriptions.addSubscriptions(this._getScrollListener(sa),p.listen(window,'resize',(function(){this.invalidateVisibleStoriesCache();this.cachedViewportHeight=ca().height;sa();}).bind(this)),p.listen(window,'focus',(function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,'window_focus');}).bind(this)),p.listen(window,'blur',(function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(true,'window_blur');}).bind(this)),h.subscribe(r.NAVIGATION_BEGIN,this.cleanup.bind(this)),h.subscribe('Stream/totalHeadLoadedStories',(function(xa,ya){this._headLoadStoryCount=ya.count;}).bind(this)),h.subscribe(q.STORIES_INSERTED,(function(){if(!this.initialStoriesLogged){var xa=this.getStoriesInView();xa.forEach(this.logAnnotatedVPV,this);}else sa();if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,'stories_inserted');}).bind(this)));if(this.isTimetrackingEnabled){this.updateTimeTrackingData(false,'init');var ua=da((function(event){this.invalidateVisibleStoriesCache();this.handleScroll(event);}).bind(this),this.scrollThrottlingInterval),va=da((function(event){this.handleKeyboard(event);}).bind(this),this.keyboardThrottlingInterval),wa=da((function(event){this.handleMouse(event);}).bind(this),this.mouseThrottlingInterval);this.subscriptions.addSubscriptions(p.listen(window,'scroll',ua),p.listen(document.documentElement,'DOMMouseScroll',ua),p.listen(document.documentElement,'mousewheel',ua));this.subscriptions.addSubscriptions(p.listen(document.documentElement,'keydown',va));this.subscriptions.addSubscriptions(p.listen(document.documentElement,'mouseover',wa),p.listen(document.documentElement,'mousemove',wa));this.subscriptions.addSubscriptions(h.subscribe('Event/stop',(function(xa,ya){this.handleMouse(ya.event);}).bind(this)));this.subscriptions.addSubscriptions(p.listen(document.documentElement,'click',(function(event){this.handleMouse(event);}).bind(this)),h.subscribe('PhotoSnowlift.OPEN',(function(){this.userFocus=oa;this.handleLayers();}).bind(this)),h.subscribe('PhotoSnowlift.CLOSE',(function(){this.userFocus=ma;this.focusedStory=null;this.updateTimeTrackingData(false,'snowlift_close');}).bind(this)));this._userActivityPoller();}s.onLeave(this.cleanup.bind(this));s.onUnload(this.cleanup.bind(this));};qa.prototype._getScrollListener=function(ra){'use strict';return p.listen(window,'scroll',ra);};qa.prototype.cleanup=function(){'use strict';if(this.subscriptions){this.subscriptions.release();this.subscriptions=null;}if(this.isTimetrackingEnabled){clearTimeout(this.userActivityPollerTimeoutID);this.updateTimeTrackingData(true,'cleanup');}if(this.passVPVHeartbeatGK)clearInterval(this.vpvHeartBeatIntervalSignal);if(this.annotatedVPVLogging){var ra=this.getStoriesInView();ra.forEach(this.logAnnotatedVPV,this);}this.initialStories=[];this._headLoadStoryCount=0;};qa.prototype.fireTimer=function(){'use strict';if(this.useWaterfallLogging){var ra=this.getStoriesInViewIgnoreHeight();ra.forEach(function(sa){this.waterfallLogStep(sa,'100_all_stories_in_view_ignore_height');},this);}if(!this.initialStoriesLogged){this.initialStories.forEach(this.markStoryRead,this);this.initialStoriesLogged=true;}this.storiesInView=this.getStoriesInView();this.storiesInView.forEach(this.markStoryRead,this);if(this.passVPVHeartbeatGK)this._sendSignal('fireTimer');};qa.prototype.heartBeatIsEnabled=function(){'use strict';return false;};qa.prototype.getSessionID=function(){'use strict';return null;};qa.prototype._sendSignal=function(ra){'use strict';if(!this.heartBeatIsEnabled())return;var sa=-1;if(ra=='interval'){sa=this.intervalCount++;}else if(ra=='fireTimer')sa=this.fireTimerCount++;var ta=-1,ua=-1,va=-1;if(this.storiesInView.length>0){ta=this.getStoryID(this.storiesInView[0]);ua=this.getQueryID(this.storiesInView[0]);va=this.getFBFeedLocations(this.storiesInView[0]);}var wa=new k('vpv_heartbeat_js');wa.addInteger('qid',ua);wa.addInteger('uid',m.getID());wa.addInteger('firststoryid',ta);wa.addInteger('time',Math.round(Date.now()/1000));wa.addNormal('type',ra);wa.addInteger('count',sa);wa.addInteger('fbfeed_location',va);wa.post();};qa.prototype._userActivityPoller=function(){'use strict';if(!this.userInactiveLock&&!u.isActive(this.timeToBeConsideredInactive)){this.userInactiveLock=true;this.userFocus=na;this.updateTimeTrackingData(false,'user_activity_inactive');u.subscribeOnce((function(){this.userFocus=ma;this.updateTimeTrackingData(false,'user_activity_active');this.userInactiveLock=false;}).bind(this));}this.userActivityPollerTimeoutID=setTimeout(this._userActivityPoller.bind(this),this.userActivityPollingInterval);};qa.prototype.getQueryID=function(ra){'use strict';return -1;};qa.prototype.getFBFeedLocations=function(ra){'use strict';return -1;};qa.prototype.getFBFeedInsertionPosition=function(ra){'use strict';return -1;};qa.prototype.createVPVDTimer=function(ra){'use strict';var sa=document.createElement("Label");sa.setAttribute("for",ra);sa.setAttribute("class",'vpvd_debug_timer');return sa;};qa.prototype.updateVPVDTimer=function(ra){'use strict';var sa=this.activeStories[ra].story,ta=n.scry(sa,'.vpvd_debug_timer');if(!ta.length){ta=[this.createVPVDTimer(sa),this.createVPVDTimer(sa)];var ua=n.scry(sa,'.UFIRow');if(ua.length&&ua[ua.length-1].clientWidth>0){ua[ua.length-1].appendChild(ta[0]);}else sa.appendChild(ta[0]);sa.insertBefore(ta[1],sa.firstChild);}var va=this.totalVPVDuration[ra],wa=Math.floor(va/1000)+'.'+Math.floor(va%1000/100);n.setContent(ta[0],wa);n.setContent(ta[1],wa);};qa.prototype.updateVPVDTimers=function(){'use strict';for(var ra in this.activeStories)if(this.activeStories.hasOwnProperty(ra))this.updateVPVDTimer(ra);};qa.prototype.logVpvdAnalysis=function(ra,sa,ta,ua,va,wa){'use strict';var xa=new k('vpv_duration');xa.addDenorm('qid',this.getQueryID(this.activeStories[ra].story));xa.addDenorm('uid',m.getID());xa.addDenorm('vsid',ra);xa.addInteger('time',Math.round(Date.now()/1000));xa.addInteger('duration',ua);xa.addInteger('total_duration',va);xa.addNormal('story_state',this.activeStories[ra].state);xa.addNormal('is_active_state',ta);xa.addNormal('num_visible_stories',this.numVisibleStories);xa.addInteger('story_height',this.activeStories[ra].story_height);xa.addInteger('story_visible_height',this.activeStories[ra].height);xa.addInteger('state_visible_height',wa);xa.addInteger('total_visible_height',this.totalVisibleHeight);xa.addInteger('total_height',this.totalHeight);xa.addNormal('user_focus',this.latestUserFocus);xa.addNormal('next_user_focus',this.userFocus);xa.addInteger('vpvd',sa);xa.addInteger('accumulated_vpvd',this.activeStories[ra].vpvd);xa.addNormal('user_activity',this.latestUserActivity);xa.addNormal('next_user_activity',this.userActivity);xa.addInteger('story_position_y',this.activeStories[ra].y);xa.addInteger('feed_insertion_position',this.getFBFeedInsertionPosition(this.activeStories[ra].story));xa.addNormal('visible_position',this.activeStories[ra].visible_position);xa.addNormal('is_focused_story',this.activeStories[ra].is_focused);xa.post();};qa.prototype.shouldDiscardStory=function(ra){'use strict';return this.activeStories[ra].height!=this.activeStories[ra].story_height&&this.activeStories[ra].height<this.totalHeight/2;};qa.prototype.calculateTotalHeight=function(){'use strict';this.totalHeight=0;for(var ra in this.activeStories)if(this.activeStories.hasOwnProperty(ra))this.totalHeight+=this.activeStories[ra].height;};qa.prototype.updateVPVDurations=function(ra){'use strict';if(this.latestUserFocus===na||ra-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;var sa={1:0,2:0,3:0},ta=ra-this.latestTimeTrackingTimestamp>=this.focused_state_duration;this.totalVisibleHeight=0;for(var ua in this.activeStories)if(this.activeStories.hasOwnProperty(ua))if(!(this.latestUserFocus===ma&&ta&&this.shouldDiscardStory(ua))){sa[this.activeStories[ua].state]+=this.activeStories[ua].height;this.totalVisibleHeight+=this.activeStories[ua].height;}var va=0,wa=ra-this.latestTimeTrackingTimestamp;if(this.latestUserFocus===ma){wa=sa[ia]>0?this.focused_state_duration:this.active_state_duration;wa=Math.min(wa,ra-this.latestTimeTrackingTimestamp);va=ra-this.latestTimeTrackingTimestamp-wa;}var xa=0,ya=ia;for(var za=ia;za>=ka;za--)if(sa[za]>0){xa=sa[za];ya=za;break;}var ab=sa[ia]+sa[ja]+sa[ka],bb=0;for(ua in this.activeStories)if(this.activeStories.hasOwnProperty(ua)){if(this.latestUserFocus===ma&&ta&&this.shouldDiscardStory(ua))continue;if(xa>0&&this.activeStories[ua].state>=ya){bb=wa*(this.activeStories[ua].height/xa);if(this.vpvdAnalysis&&wa>0)this.logVpvdAnalysis(ua,bb,true,wa,wa+va,xa);this.activeStories[ua].vpvd+=bb;this.totalVPVDuration[ua]+=bb;}if(ab>0){bb=va*(this.activeStories[ua].height/ab);if(this.vpvdAnalysis&&va>0)this.logVpvdAnalysis(ua,bb,false,va,wa+va,ab);this.activeStories[ua].vpvd+=bb;this.totalVPVDuration[ua]+=bb;}}};qa.prototype.updateActiveStory=function(ra,sa,ta,ua){'use strict';this.activeStories[ra].state=sa;this.activeStories[ra].ts=ta;this.activeStories[ra].height_snapshot=ua[ra].height;this.activeStories[ra].is_focused=this.focusedStory===ua[ra].story;this.activeStories[ra].story_height=ua[ra].story_height;if(this.vpvdAnalysis){this.activeStories[ra].visible_position=ua[ra].visible_position;this.activeStories[ra].y=ua[ra].y;}};qa.prototype.updateActiveStories=function(ra,sa){'use strict';for(var ta in ra)if(ra.hasOwnProperty(ta))if(ta in this.activeStories){this.activeStories[ta].height=ra[ta].height;var ua=ra[ta].height-this.activeStories[ta].height_snapshot;if(this.focusedStory===ra[ta].story){this.updateActiveStory(ta,ia,sa,ra);}else if(ua<=-this.height_diff_to_change_state){this.updateActiveStory(ta,this.shouldDiscardStory(ta)?la:ka,sa,ra);}else if(ua>=this.height_diff_to_change_state||this.activeStories[ta].is_focused||this.activeStories[ta].height===this.activeStories[ta].story_height)this.updateActiveStory(ta,ja,sa,ra);}else{this.activeStories[ta]={evp_ts:sa,story:ra[ta].story,height:ra[ta].height,vpvd:0};if(!this.totalVPVDuration[ta])this.totalVPVDuration[ta]=0;this.updateActiveStory(ta,ja,sa,ra);}};qa.prototype.recordVPVDurations=function(ra,sa){'use strict';for(var ta in this.activeStories)if(this.activeStories.hasOwnProperty(ta))if(sa||!(ta in ra)){if(this.activeStories[ta].vpvd>this.focused_state_duration||this.activeStories[ta].vpvd===this.totalVPVDuration[ta])this.recordTimeStoryWasInView(this.activeStories[ta]);delete this.activeStories[ta];}};qa.prototype.updateTimeTrackingData=function(ra,sa){'use strict';this.userActivity=sa;if(!this.activeStories)this.activeStories={};var ta=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=ta;var ua=this.getVisibleStoriesFromCache();this.calculateTotalHeight();this.updateVPVDurations(ta);this.updateActiveStories(ua,ta);if(this.vpvdDebug)this.updateVPVDTimers();this.recordVPVDurations(ua,ra);if(ra){this.latestTimeTrackingTimestamp=0;}else this.latestTimeTrackingTimestamp=ta;this.latestUserActivity=this.userActivity;this.latestUserFocus=this.userFocus;if(this.focusedStory)this.latestActiveStory=this.focusedStory;this.latestFocusedStory=this.focusedStory;this.focusedStory=null;};qa.prototype.needsToUpdateTimeTrackingData=function(){'use strict';return !(this.latestUserFocus===this.userFocus&&(this.userFocus===na||this.userFocus===ma&&!this.latestFocusedStory&&!this.focusedStory));};qa.prototype.getfocusedStory=function(ra){'use strict';var sa=this.getVisibleStoriesFromCache();for(var ta in sa)if(sa.hasOwnProperty(ta))if(w.isDescendantOf(ra,sa[ta].story))return sa[ta].story;return null;};qa.prototype.handleLayers=function(){'use strict';if(this.userFocus===oa||this.userFocus===pa){this.focusedStory=this.latestActiveStory;this.updateTimeTrackingData(false,'media_layer');return true;}return false;};qa.prototype.didInteractWithStream=function(ra){'use strict';return w.isDescendantOf(ra,this.getStream())||w.isDescendantOf(this.getStream(),ra);};qa.prototype.handleScroll=function(event){'use strict';if(this.handleLayers())return;var ra=Date.now(),sa=ba(this.getStream()).y;if(sa!=this.lastStreamY||ra-this.latestStreamYChangedTimeStamp<2.5*this.scrollThrottlingInterval||this.didInteractWithStream(event.target)){this.latestStreamYChangedTimeStamp=ra;this.userFocus=ma;}else this.userFocus=na;this.lastStreamY=sa;if(this.userFocus===ma||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,'scroll');};qa.prototype.handleKeyboard=function(event){'use strict';if(this.handleLayers())return;if(this.didInteractWithStream(event.target)){this.userFocus=ma;this.focusedStory=this.getfocusedStory(event.target);}else if(l.hasClass(event.target,'shareInput')){this.userFocus=ma;this.focusedStory=this.latestActiveStory;}else this.userFocus=na;if(this.userFocus===ma||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,'keyboard');};qa.prototype.handleMouse=function(event){'use strict';if(this.handleLayers())return;if(event.type!='click'&&event.clientX===this.lastMouseX&&event.clientY===this.lastMouseY)return;if(event.type==='click')this.invalidateVisibleStoriesCache();if(this.didInteractWithStream(event.target)){this.userFocus=ma;this.focusedStory=this.getfocusedStory(event.target);}else this.userFocus=na;this.lastMouseX=event.clientX;this.lastMouseY=event.clientY;if(this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,event.type);};qa.prototype.getStoriesInView=function(){'use strict';var ra=this.getAllStories(),sa=[],ta=false;for(var ua=0;ua<ra.length;ua++){var va=ra[ua],wa=this.getStoryID(va);if(this.hasBeenVisible(wa))continue;if(this.isVisible(va)){if(va.getAttribute('data-insertion-position')===null)va.setAttribute('data-insertion-position',ua-this._headLoadStoryCount);sa.push(va);ta=true;}else if(ta)break;}return sa;};qa.prototype.getStoriesInViewIgnoreHeight=function(){'use strict';var ra=this.getAllStories(),sa=false,ta=[];for(var ua=0;ua<ra.length;ua++){var va=ra[ua];if(this.isVisible(va,false,0)){ta.push(va);sa=true;}else if(sa)break;}return ta;};qa.prototype.getAllStoriesFromCache=function(){'use strict';if(this.cachedAllStories===null)this.cachedAllStories=this.getAllStories();return this.cachedAllStories;};qa.prototype.invalidateAllStoriesCache=function(){'use strict';this.cachedAllStories=null;this.invalidateVisibleStoriesCache();};qa.prototype.getVisibleStoriesFromCache=function(){'use strict';if(this.cachedVisibleStories===null)this.cachedVisibleStories=this.getAllStoriesInView();return this.cachedVisibleStories;};qa.prototype.invalidateVisibleStoriesCache=function(){'use strict';this.cachedVisibleStories=null;};qa.prototype.getAllStoriesInView=function(){'use strict';var ra=this.getAllStoriesFromCache(),sa={},ta=false,ua=0,va=ra.length,wa=1,xa=ra.length;if(this._indexOfLastVisibleStoryOnPreviousPass>va/2){ua=va-1;va=-1;wa=-wa;}for(var ya=ua;ya!=va;ya+=wa){var za=ra[ya],ab=this.getHeightIfVisible(za,false,Math.min(this.minSizeToBeVisible,this.minFractionToBeVisibleForTimetracking*o.getElementDimensions(za).height));if(ab>0||za===this.focusedStory){if(za.getAttribute('data-insertion-position')===null)za.setAttribute('data-insertion-position',ya-this._headLoadStoryCount);var bb=this.getStoryID(za);sa[bb]={story:za,height:ab,story_height:o.getElementDimensions(za).height};ta=true;if(this.vpvdAnalysis){sa[bb].y=ba(za).y;sa[bb].visible_position=ya;xa=Math.min(xa,ya);}}else if(ta){this._indexOfLastVisibleStoryOnPreviousPass=ya-wa;break;}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(bb in sa)if(sa.hasOwnProperty(bb)){sa[bb].visible_position-=xa;this.numVisibleStories++;}}return sa;};qa.prototype.getTimetrackingDataToLog=function(ra){'use strict';var sa={evt:ea,vpvd_start_timestamp:ra.evp_ts,vpvd_time_delta:Math.round(ra.vpvd),story_height:o.getElementDimensions(ra.story).height,viewport_height:this.cachedViewportHeight};return {ft:sa};};qa.prototype.recordTimeStoryWasInView=function(ra){'use strict';if(this.isTimetrackingEnabled&&ra.vpvd>0){var sa=this.getTimetrackingDataToLog(ra),ta=y(ra.story,['ft']);Object.assign(sa.ft,ta.ft);var ua=!!ta.ft.ei&&sa.ft.vpvd_time_delta>this.minTimeToReportImmediately;delete sa.ei;this.sendDataToLog(ra.story,sa,ua);}};qa.prototype.hasBeenVisible=function(ra){'use strict';return ra in this.readStoryIDs;};qa.prototype.isVisible=function(ra,sa,ta){'use strict';return this.getHeightIfVisible(ra,sa,ta)>0;};qa.prototype.getHeightIfVisible=function(ra,sa,ta){'use strict';if(sa===undefined)sa=this.isLoose;if(ta===undefined)ta=this.minSizeToBeVisible;var ua=v.getScrollPosition().y,va=ca().height,wa=ba(ra),xa=o.getElementDimensions(ra),ya=va+this.maxScrollPosition-ua;if(!wa.x&&!wa.y&&!xa.x&&!xa.y)return false;if(sa&&wa.y<ya)return true;var za=Math.max(wa.y,0),ab=Math.min(wa.y+xa.height,va),bb=Math.min(xa.height,ta);return ab-za>=bb?ab-za:0;};qa.prototype.getHeightInViewport=function(ra){'use strict';var sa=ca().height,ta=ba(ra),ua=o.getElementDimensions(ra);if(!ta.x&&!ta.y&&!ua.x&&!ua.y)return false;var va=Math.max(ta.y,0),wa=Math.min(ta.y+ua.height,sa);return wa-va;};qa.prototype.sendDataToLog=function(ra,sa,ta){'use strict';if(this.useBanzai){var ua={};if(ta)ua.delay=3000;var va=this.getSessionID();if(va)sa.ft.session_id=va;if(this.useWaterfallLogging&&sa.ft.evt==fa){sa.ft.should_waterfall_logging=1;sa.ft['interface']='www';var wa=!this.initialStoriesLogged;this.waterfallLogStep(ra,'200_sent_to_banzai',wa);}j.post('feed_tracking',sa,ua);}else x(ga,ra,null,'FORCE',sa);};qa.prototype.waterfallLogStep=function(ra,sa,ta){'use strict';var ua=this.getStoryID(ra);if(this.loggedStoryIDs[sa]&&this.loggedStoryIDs[sa][ua])return;var va=this.getWaterfallData(ra,sa,ta);if(!va.qid)return;new i(ha,va).send();if(!this.loggedStoryIDs[sa])this.loggedStoryIDs[sa]={};this.loggedStoryIDs[sa][ua]=true;};qa.prototype.getWaterfallData=function(ra,sa,ta){'use strict';var ua=this._getDataToLogImpl(ra),va=y(ra,['ft']);Object.assign(ua.ft,va.ft);var wa=ua.ft;wa.height_in_viewport=this.getHeightInViewport(ra);wa.step=sa;wa.is_initial_story=ta?1:0;wa['interface']='www';return wa;};qa.prototype.addSeenClassToStory=function(ra){'use strict';l.addClass(ra,"_50nb");l.removeClass(ra,"_50mx");l.removeClass(ra,"_2z-5");};qa.prototype.markStoryRead=function(ra){'use strict';var sa=this.getStoryID(ra);if(!sa||this.hasBeenVisible(sa))return;this.readStoryIDs[sa]=true;this.annotatedStoryIDs[sa]=true;var ta=this._getDataToLogImpl(ra),ua=y(ra,['ft']);Object.assign(ta.ft,ua.ft);delete ta.ei;this.sendDataToLog(ra,ta,false);l.addClass(ra,"_x72");if(this.vpvDebug)l.addClass(ra,"_5m7s");this.addSeenClassToStory(ra);};qa.prototype.logAnnotatedVPV=function(ra){'use strict';var sa=this.getStoryID(ra);if(!sa||sa in this.annotatedStoryIDs)return;this.annotatedStoryIDs[sa]=true;var ta=this._getDataToLogImpl(ra),ua=y(ra,['ft']);Object.assign(ta.ft,ua.ft);delete ta.ei;ta.ft.vpv_ft_only=1;this.sendDataToLog(ra,ta,false);};qa.prototype._getDataToLogImpl=function(ra){'use strict';var sa=this.getDataToLog(ra);if(!sa.ft)sa.ft={};return sa;};f.exports=qa;},null);
__d('collectSubtreeData',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l,m,n){if(j.offsetWidth===0&&j.offsetHeight===0)return n;var o={};if(j.getAttribute)for(s=0;s<k.length;s++){u=k[s];var p=j.getAttribute(l[u]);if(p){o[u]={};var q=JSON.parse(p);for(var r in m)if(q[r]!==undefined){o[u][r]=true;if(n[u]===undefined)n[u]={};if(n[u][r]===undefined)n[u][r]=[];if(m[r].length>0)n[u][r].push(m[r]);n[u][r].push('('+q[r]);}}}for(var s=0;s<j.childNodes.length;s++){var t=j.childNodes[s];h(t,k,l,m,n);}for(var u in o)for(var v in o[u]){var w=n[u][v][n[u][v].length-1];if(w.length>0&&w.charAt(0)=='('){n[u][v][n[u][v].length-1]=w.substr(1);}else n[u][v].push(')');}return n;}function i(j,k){var l={};for(var m=0;m<k.length;++m)l[k[m]]='data-'+k[m];var n={tn:"","tn-debug":","},o={};h(j,k,l,n,o);for(var p in o)for(var q in o[p])o[p][q]=o[p][q].join('');return o;}f.exports=i;},null);
__d('dispatchEvent',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;},null);
__d('recordTNTreeData',['collectSubtreeData'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l={},m=h(j,['ft']);for(var n in m.ft){l[n+'_tree']=m.ft[n];if(n==='tn-debug')j.setAttribute('tn-debug_subtree',m.ft[n]);}l.evt_value=j.offsetHeight;if(k)l.offset=Math.max(0,j.offsetTop-k.offsetTop);return l;}f.exports=i;},null);
__d('StreamViewportTracking',['DOM','DOMDimensions','ViewportTracking','ge','recordTNTreeData'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n,o=51;m=babelHelpers.inherits(p,j);n=m&&m.prototype;p.prototype.init=function(q,r){'use strict';if(r)this.$StreamViewportTracking1=r;n.init.call(this,q);this.initSubscriptions();};p.prototype.initSubscriptions=function(){'use strict';};p.prototype.getDataFromConfig=function(q){'use strict';this.isTimetrackingEnabled=1;this.timeout=q.record_delay;};p.prototype.getTimeout=function(){'use strict';return this.timeout;};p.prototype.getStorySelector=function(){'use strict';return '.uiStreamStory';};p.prototype.getAllStories=function(){'use strict';var q=h.scry(this.getStream(),this.getStorySelector());return q.filter(function(r){return r.getAttribute('data-ft');});};p.prototype.getStoryID=function(q){'use strict';var r=JSON.parse(q.getAttribute('data-ft'));return r.mf_story_key;};p.prototype.getQueryID=function(q){'use strict';var r=JSON.parse(q.getAttribute('data-ft'));return r.qid;};p.prototype.getFBFeedLocations=function(q){'use strict';var r=JSON.parse(q.getAttribute('data-ft'));return r.fbfeed_location;};p.prototype.getFBFeedInsertionPosition=function(q){'use strict';var r=JSON.parse(q.getAttribute('data-ft'));return r.insertion_position;};p.prototype.getDataToLog=function(q){'use strict';var r={},s=this.getStream();r=l(q,s);var t=q.getAttribute('data-insertion-position');if(t!==null)r.inspos=t;r.evt=o;r.vpv_time=Math.round(Date.now()/1000);var u=h.scry(q,".fbStoryAttachmentImage")[0];if(u){var v=i.getElementDimensions(u);r.story_image_height=v.height;r.story_image_width=v.width;}return {ft:r};};p.prototype.getStream=function(){'use strict';if(this.$StreamViewportTracking1)return this.$StreamViewportTracking1;return k('home_stream');};p.prototype.heartBeatIsEnabled=function(){'use strict';return true;};p.init=function(q,r){'use strict';p.instance=new p();p.instance.init(q,r);};p.getInstance=function(){'use strict';return p.instance;};function p(){'use strict';m.apply(this,arguments);}f.exports=p;},null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=0,p=null,q=null,r=0,s=null,t={startSession:function(u,v,w){p=v;q=w;h.inform('LogEnterChannel',v);n.registerVideoID(u,u);var x={};x[m.EVENT]=l.SESSION_START;t.log(x);o=Date.now();k.onLeave(t.endSession);i.subscribe(i.SHUTDOWN,t.endSession);},endSession:function(){if(p){h.inform('LogExitChannel',p);var u={};u[m.EVENT]=l.SESSION_END;t.log(u);p=null;q=null;s=null;o=0;}},setOffset:function(u){r=u;},setPosition:function(u){s=u;},getPlayerLoggingData:function(){if(!p)return {};return {video_channel_id:p,position_in_channel:s+r};},log:function(u){u[m.SESSION_ID]=n.getCurrentSessionID();u[m.VIDEO_CHANNEL_ID]=p;u[m.VIDEO_CHAINING_CALLER]=q;if(!(m.POSITION_IN_CHANNEL in u))u[m.POSITION_IN_CHANNEL]=s+r;if(o){var v=Date.now()-o;u[m.TIME_SINCE_START]=v+.001;}j.log('VideoChannelLoggerConfig',u);}};f.exports=t;},null);
__d('VideoWithFallbackMode',['VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerReason'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m){'use strict';this.$VideoWithFallbackMode1=l;if(this.$VideoWithFallbackMode1.isImplementationUnavailable()){this.$VideoWithFallbackMode2(i.FLASH_UNAVAILABLE);return;}l.addListener('error',this.$VideoWithFallbackMode3.bind(this));if(m.fallbackTimeoutMs){var n=m.fallbackTimeoutMs;setTimeout((function(){if(this.$VideoWithFallbackMode1.isState('loading')){this.$VideoWithFallbackMode1.pause(j.FALLBACK_MODE);this.$VideoWithFallbackMode2(i.TIMEOUT);}}).bind(this),n);}}k.prototype.$VideoWithFallbackMode3=function(){'use strict';if(this.$VideoWithFallbackMode1.isState('fallback'))return;if(this.$VideoWithFallbackMode1.isState('playing'))this.$VideoWithFallbackMode1.pause(j.FALLBACK_MODE);this.$VideoWithFallbackMode1.abortLoading();this.$VideoWithFallbackMode2(i.FLASH_ERROR);};k.prototype.$VideoWithFallbackMode2=function(l){'use strict';this.$VideoWithFallbackMode1.setState('fallback');this.$VideoWithFallbackMode1.logEvent(h.ENTERED_FALLBACK,{debug_reason:l});};f.exports=k;},null);
__d('AbstractVideoFullscreenControl.react',['AbstractButton.react','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'AbstractVideoFullscreenControl',mixins:[j],propTypes:{image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func},getInitialState:function(){return {awaitingUpdate:false};},isFullscreen:function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen;},onButtonClick:function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();},render:function(){return (i.createElement(h,babelHelpers._extends({},this.props,{className:this.props.className,image:this.props.image,onClick:this.onButtonClick})));}});f.exports=l;},null);
__d('VideoPlayerApiEvents',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['buffered','buffering','beginPlayback','updateStatus','logEvent','pausePlayback','clickVideo','clickForTracking','finishPlayback','unmuteVideo','muteVideo','changeVolume','turnOffAutoplay','updateBuffer','updateMetadata','qualityChange','updateViewportBegin','updateViewportEnd','error','loadedSubtitles','toggleSubtitles','toggleFullscreen','seekEnd'];f.exports=h;},null);
__d('AbstractVideoPlayerApi',['EventEmitter','VideoPlayerApiEvents','arrayContains','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(){'use strict';m.constructor.call(this);}n.prototype.addListener=function(){'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m.addListener.apply(this,p);};n.prototype.emit=function(){'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m.emit.apply(this,p);};n.prototype.setSphericalViewport=function(o,p){'use strict';};n.isImplementationUnavailable=function(){'use strict';return true;};f.exports=n;},null);
__d("VideoConfig",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){Object.assign(this,i);}f.exports=h;},null);
__d("VideoData",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$VideoData1=i;}h.prototype.hasHD=function(){"use strict";return !!this.$VideoData1.hd_src;};h.prototype.getEncodingTag=function(){"use strict";return this.$VideoData1.encoding_tag;};h.prototype.getVideoID=function(){"use strict";return this.$VideoData1.video_id;};h.prototype.getRotation=function(){"use strict";return this.$VideoData1.rotation;};h.prototype.hasSubtitles=function(){"use strict";return !!this.$VideoData1.subtitles_src;};h.prototype.hasDashManifest=function(){"use strict";return !!this.$VideoData1.dash_manifest;};h.prototype.getDashManifest=function(){"use strict";return this.$VideoData1.dash_manifest;};h.prototype.getSubtitlesSrc=function(){"use strict";return this.$VideoData1.subtitles_src;};h.prototype.getPlayableSrcSD=function(){"use strict";if(this.$VideoData1.sd_src_no_ratelimit)return this.$VideoData1.sd_src_no_ratelimit;return this.$VideoData1.sd_src;};h.prototype.getPlayableSrcHD=function(){"use strict";if(this.$VideoData1.hd_src_no_ratelimit)return this.$VideoData1.hd_src_no_ratelimit;return this.$VideoData1.hd_src;};h.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$VideoData1.sd_src;};h.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$VideoData1.hd_src;};h.prototype.hasRateLimit=function(){"use strict";return !!this.$VideoData1.sd_src_no_ratelimit;};h.prototype.getStreamType=function(){"use strict";return this.$VideoData1.stream_type;};h.prototype.isLiveStream=function(){"use strict";return this.$VideoData1.is_live_stream;};h.prototype.liveRoutingToken=function(){"use strict";return this.$VideoData1.live_routing_token;};h.prototype.getHDTag=function(){"use strict";return this.$VideoData1.hd_tag;};h.prototype.getSDTag=function(){"use strict";return this.$VideoData1.sd_tag;};h.prototype.getProjection=function(){"use strict";return this.$VideoData1.projection;};f.exports=h;},null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=babelHelpers.inherits(p,i);o=n&&n.prototype;function p(q){'use strict';o.constructor.call(this);this.$MediaBufferingDetector1=q;this.$MediaBufferingDetector2=new j();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector3();this.$MediaBufferingDetector2.addSubscriptions(h.listen(this.$MediaBufferingDetector1,'playing',(function(){return this.$MediaBufferingDetector4();}).bind(this)),h.listen(this.$MediaBufferingDetector1,'pause',(function(){return this.$MediaBufferingDetector5();}).bind(this)),h.listen(this.$MediaBufferingDetector1,'ended',(function(){return this.$MediaBufferingDetector6();}).bind(this)),h.listen(this.$MediaBufferingDetector1,'timeupdate',(function(){return this.$MediaBufferingDetector7();}).bind(this)));}p.prototype.$MediaBufferingDetector8=function(){'use strict';var q=m(),r=this.$MediaBufferingDetector1.currentTime,s=q-this.$MediaBufferingDetector9,t=r-this.$MediaBufferingDetector10,u=t*1000,v=s-u;if(s*.2<Math.abs(v)){this.$MediaBufferingDetector11();}else this.$MediaBufferingDetector12();this.$MediaBufferingDetector13();};p.prototype.$MediaBufferingDetector13=function(){'use strict';this.$MediaBufferingDetector9=m();this.$MediaBufferingDetector10=this.$MediaBufferingDetector1.currentTime;};p.prototype.$MediaBufferingDetector3=function(){'use strict';if(this.$MediaBufferingDetector14)return;this.$MediaBufferingDetector13();this.$MediaBufferingDetector14=k((function(){return this.$MediaBufferingDetector8();}).bind(this),500);};p.prototype.$MediaBufferingDetector15=function(){'use strict';l(this.$MediaBufferingDetector14);this.$MediaBufferingDetector14=null;};p.prototype.$MediaBufferingDetector11=function(){'use strict';if(this.$MediaBufferingDetector16)return;this.$MediaBufferingDetector16=true;this.emit('bufferingStart');};p.prototype.$MediaBufferingDetector12=function(){'use strict';if(!this.$MediaBufferingDetector16)return;this.$MediaBufferingDetector16=false;this.emit('bufferingEnd');};p.prototype.$MediaBufferingDetector4=function(){'use strict';this.$MediaBufferingDetector12();this.$MediaBufferingDetector3();};p.prototype.$MediaBufferingDetector5=function(){'use strict';this.$MediaBufferingDetector12();this.$MediaBufferingDetector15();};p.prototype.$MediaBufferingDetector6=function(){'use strict';this.$MediaBufferingDetector12();this.$MediaBufferingDetector15();};p.prototype.$MediaBufferingDetector7=function(){'use strict';this.$MediaBufferingDetector12();this.$MediaBufferingDetector15();this.$MediaBufferingDetector3();};p.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector15();this.$MediaBufferingDetector2.release();};f.exports=p;},null);
__d('VideoFrameBuffer',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$VideoFrameBuffer1=j;this.$VideoFrameBuffer2=i;this.$VideoFrameBuffer3=k||'contain';}h.prototype.updateFrameBuffer=function(){'use strict';if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer2.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null;}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer2.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null;}var i=this.$VideoFrameBuffer2.clientWidth||this.$VideoFrameBuffer2.width,j=this.$VideoFrameBuffer2.clientHeight||this.$VideoFrameBuffer2.height,k=i,l=j,m=this.$VideoFrameBuffer1.videoWidth/this.$VideoFrameBuffer1.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer2.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer1,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){'use strict';return this.$VideoFrameBuffer2;};h.prototype.updateDimensions=function(i,j){'use strict';this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j;};f.exports=h;},null);
__d('VideoMimeTypes',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(o,p,q){return o+'; codecs="'+p+', '+q+'"';}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase();}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase();}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase();}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n;},null);
__d('canVideoPlayType',['DOM'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=null;function j(k){i=i||h.create('video');if(!('canPlayType' in i))return '';return i.canPlayType(k);}f.exports=j;},null);
__d('onCanPlayHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(n){return n>=i.HAVE_FUTURE_DATA;}function m(n,o){!(n instanceof window.HTMLMediaElement)?j(0):undefined;if(l(n.readyState))k(o);return h.listen(n,'canplay',o);}m.once=function(n,o){var p=m(n,(function(){if(!p)return;p.remove();p=null;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];o.apply(this,r);}).bind(this));};f.exports=m;},null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(m){return m>=i.HAVE_METADATA;}function l(m,n){if(k(m.readyState))j(n);return h.listen(m,'loadedmetadata',n);}l.once=function(m,n){var o=l(m,(function(){o.remove();for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];n.apply(this,q);}).bind(this));};f.exports=l;},null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n){if(l.currentTime==m)return n&&j(n);try{l.currentTime=m;}catch(o){}if(l.currentTime){var p=h.listen(l,'seeked',function(){p.remove();n&&n();});}else i(l,function(){l.currentTime=m;var q=h.listen(l,'seeked',function(){q.remove();n&&n();});});}f.exports=k;},null);
__d('supportsHTML5Video',['DOM','memoize'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();f.exports=i(function(){return !!h.create('video').canPlayType;});},null);
__d('VideoPlayerHTML5Api',['AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','DOM','DOMDimensions','EventListener','HVideoPlayerMixin','MediaBufferingDetector','Run','SubscriptionsHandler','VideoData','VideoMimeTypes','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerAbortLoadingExperiment','VideoPlayerLoggerEvent','VideoPlayerReason','VideoPlayerVersions','canVideoPlayType','dispatchEvent','classWithMixins','cx','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','seekHTMLMediaElementTo','setImmediate','supportsHTML5Video'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){if(c.__markCompiled)c.__markCompiled();var la,ma;function na(ra){switch(ra){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}}function oa(ra){switch(ra){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+ra+' is unknown';}}var pa=-1;la=babelHelpers.inherits(qa,ca(h,ga(o)));ma=la&&la.prototype;function qa(ra,sa){'use strict';ma.constructor.call(this);this.$VideoPlayerHTML5Api1=ra;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api1.id;var ta=m.getElementDimensions(this.$VideoPlayerHTML5Api1);this.$VideoPlayerHTML5Api3=ta.width;this.$VideoPlayerHTML5Api4=ta.height;if(sa){this.$VideoPlayerHTML5Api5=sa;}else this.$VideoPlayerHTML5Api5=JSON.parse(this.$VideoPlayerHTML5Api1.getAttribute('data-config'));this.$VideoPlayerHTML5Api6={};this.$VideoPlayerHTML5Api7=new p(this.$VideoPlayerHTML5Api1);this.$VideoPlayerHTML5Api7.addListener('bufferingStart',(function(){return this.$VideoPlayerHTML5Api8();}).bind(this));this.$VideoPlayerHTML5Api7.addListener('bufferingEnd',(function(){return this.$VideoPlayerHTML5Api9();}).bind(this));this.$VideoPlayerHTML5Api10=pa;this.$VideoPlayerHTML5Api11=fa(this.$VideoPlayerHTML5Api1);this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api1.volume;this.$VideoPlayerHTML5Api13=false;this.$VideoPlayerHTML5Api14=pa;this.$VideoPlayerHTML5Api15=null;this.$VideoPlayerHTML5Api16=false;this.$VideoPlayerHTML5Api17=false;this.$VideoPlayerHTML5Api18=this.$VideoPlayerHTML5Api1.getAttribute('preload')=='auto';if(this.$VideoPlayerHTML5Api5.lazyPreload)if(this.$VideoPlayerHTML5Api5.onafterloadRegister){q.onAfterLoad((function(){return (this.$VideoPlayerHTML5Api1.setAttribute('preload',this.$VideoPlayerHTML5Api5.lazyPreload));}).bind(this));}else this.$VideoPlayerHTML5Api1.setAttribute('preload',this.$VideoPlayerHTML5Api5.lazyPreload);this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api5.disableNativeControls;this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api1.controls;this.$VideoPlayerHTML5Api21=this.$VideoPlayerHTML5Api5.subtitlesActive;this.$VideoPlayerHTML5Api22();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api23=new r();this.$VideoPlayerHTML5Api24();this.$VideoPlayerHTML5Api25=this.$VideoPlayerHTML5Api5.useRateLimited;this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api5.defaultHD;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api5.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api28.bind(this),this.$VideoPlayerHTML5Api5.useEventTime);this.$VideoPlayerHTML5Api29();if(this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Spherical)this.$VideoPlayerHTML5Api30();}qa.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api5.ad_client_token;};qa.prototype.$VideoPlayerHTML5Api8=function(){'use strict';this.emit('buffering');};qa.prototype.$VideoPlayerHTML5Api9=function(){'use strict';this.emit('buffered');};qa.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.getVideoID();return this.$VideoPlayerHTML5Api5.video_id;};qa.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api1;};qa.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api1;};qa.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api23;};qa.onImplementationReady=function(ra,sa){'use strict';ja(sa);};qa.prototype.destroy=function(){'use strict';this.$VideoPlayerHTML5Api32();if(this.$VideoPlayerHTML5Api33)l.remove(this.$VideoPlayerHTML5Api33);};qa.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api31)return null;return {isHD:this.$VideoPlayerHTML5Api26,streamType:this.$VideoPlayerHTML5Api31.getStreamType(),hasHD:this.hasHD(),areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api34,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api35?'DASH manifest':this.$VideoPlayerHTML5Api36(),hasSubtitles:this.$VideoPlayerHTML5Api31.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api31.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api25,projection:this.$VideoPlayerHTML5Api37(),tagSD:this.$VideoPlayerHTML5Api31.getSDTag(),tagHD:this.$VideoPlayerHTML5Api31.getHDTag()};};qa.isImplementationUnavailable=function(ra){'use strict';if(ra){var sa=aa(t.h264main30avc);if(v.relaxedCanPlay)return sa!=='probably'&&sa!=='maybe';return sa!=='probably';}return !ka();};qa.prototype.pause=function(ra){'use strict';this.$VideoPlayerHTML5Api15=ra;if(ra==='unloaded'&&!this.$VideoPlayerHTML5Api38()){this.$VideoPlayerHTML5Api28(x.PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api39();if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api35.pause();}else this.$VideoPlayerHTML5Api1.pause();};qa.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api18){if(this.$VideoPlayerHTML5Api40)this.$VideoPlayerHTML5Api41();this.$VideoPlayerHTML5Api18=true;this.$VideoPlayerHTML5Api1.setAttribute('preload','auto');}};qa.prototype.play=function(ra){'use strict';if(!this.$VideoPlayerHTML5Api42)this.$VideoPlayerHTML5Api42=ra;this.$VideoPlayerHTML5Api43=ra;if(!this.$VideoPlayerHTML5Api38()){this.$VideoPlayerHTML5Api44();return;}this.$VideoPlayerHTML5Api16=true;if(this.$VideoPlayerHTML5Api40){ba(this.$VideoPlayerHTML5Api1,'play');this.$VideoPlayerHTML5Api41();this.$VideoPlayerHTML5Api17=true;return;}this.$VideoPlayerHTML5Api45();};qa.prototype.$VideoPlayerHTML5Api39=function(){'use strict';if(this.$VideoPlayerHTML5Api17&&this.$VideoPlayerHTML5Api1.paused)ba(this.$VideoPlayerHTML5Api1,'pause');this.$VideoPlayerHTML5Api46();};qa.prototype.$VideoPlayerHTML5Api46=function(){'use strict';this.$VideoPlayerHTML5Api16=false;this.$VideoPlayerHTML5Api17=false;};qa.prototype.$VideoPlayerHTML5Api47=function(){'use strict';this.$VideoPlayerHTML5Api1.setAttribute('preload','auto');this.$VideoPlayerHTML5Api18=true;this.$VideoPlayerHTML5Api1.load();this.$VideoPlayerHTML5Api1.muted=this.$VideoPlayerHTML5Api11;};qa.prototype.seek=function(ra){'use strict';this.$VideoPlayerHTML5Api1.currentTime=ra;};qa.prototype.removeRotation=function(){'use strict';k.removeClass(this.$VideoPlayerHTML5Api1,"_56jr");k.removeClass(this.$VideoPlayerHTML5Api1,"_56js");k.removeClass(this.$VideoPlayerHTML5Api1,"_56jt");this.$VideoPlayerHTML5Api1.style.marginLeft='';this.$VideoPlayerHTML5Api1.style.marginTop='';this.$VideoPlayerHTML5Api1.style.width='';this.$VideoPlayerHTML5Api1.style.height='';};qa.prototype.applyRotation=function(ra){'use strict';if(!ra)return;k.conditionClass(this.$VideoPlayerHTML5Api1,"_56jr",ra==90);k.conditionClass(this.$VideoPlayerHTML5Api1,"_56js",ra==180);k.conditionClass(this.$VideoPlayerHTML5Api1,"_56jt",ra==270);if(ra==180)return;var sa=this.$VideoPlayerHTML5Api4,ta=this.$VideoPlayerHTML5Api3,ua=(sa-ta)/2,va=(ta-sa)/2;this.$VideoPlayerHTML5Api1.style.marginLeft=va+'px';this.$VideoPlayerHTML5Api1.style.marginTop=ua+'px';this.$VideoPlayerHTML5Api1.style.height=ta+'px';this.$VideoPlayerHTML5Api1.style.width=sa+'px';};qa.prototype.switchVideo=function(ra){'use strict';if(!this.$VideoPlayerHTML5Api5.videoData||this.$VideoPlayerHTML5Api5.videoData.length<=ra)return;this.$VideoPlayerHTML5Api31=new s(this.$VideoPlayerHTML5Api5.videoData[ra]);if(this.$VideoPlayerHTML5Api31.hasDashManifest()&&this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka.isSupported()){this.$VideoPlayerHTML5Api7.destroy();this.$VideoPlayerHTML5Api35=new this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api1,this.$VideoPlayerHTML5Api31.getDashManifest(),{playHighQualityTrack:this.$VideoPlayerHTML5Api26,width:this.$VideoPlayerHTML5Api3,height:this.$VideoPlayerHTML5Api4});this.$VideoPlayerHTML5Api35.addListener('bufferingStart',(function(){return this.$VideoPlayerHTML5Api8();}).bind(this));this.$VideoPlayerHTML5Api35.addListener('bufferingEnd',(function(){return this.$VideoPlayerHTML5Api9();}).bind(this));this.$VideoPlayerHTML5Api35.addListener('tracksChanged',(function(){return this.emit('qualityChange');}).bind(this));this.$VideoPlayerHTML5Api35.addListener('adaptation',(function(){return this.emit('qualityChange');}).bind(this));this.$VideoPlayerHTML5Api35.addListener('error',(function(sa){return this.$VideoPlayerHTML5Api48(sa);}).bind(this));this.$VideoPlayerHTML5Api49.remove();}else this.$VideoPlayerHTML5Api1.src=this.$VideoPlayerHTML5Api36();this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api50.removeSubtitles();if(this.$VideoPlayerHTML5Api31.hasSubtitles())j.loadModules(["VideoPlayerHTML5Subtitles"],(function(sa){if(!this.$VideoPlayerHTML5Api50){this.$VideoPlayerHTML5Api50=new sa(this.$VideoPlayerHTML5Api1);this.$VideoPlayerHTML5Api50.setOnSubtitlesReady((function(){return this.$VideoPlayerHTML5Api51();}).bind(this));}this.$VideoPlayerHTML5Api50.loadSubtitles(this.$VideoPlayerHTML5Api31.getSubtitlesSrc());}).bind(this));this.removeRotation();this.applyRotation(this.$VideoPlayerHTML5Api31.getRotation());};qa.prototype.switchToStreamType=function(ra){'use strict';};qa.prototype.replaceVideoDataFromURL=function(ra){'use strict';};qa.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api40.mutedState=false;this.$VideoPlayerHTML5Api11=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api1.muted=false;};qa.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api40.mutedState=true;this.$VideoPlayerHTML5Api11=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api1.muted=true;};qa.prototype.setRotation=function(ra){'use strict';this.removeRotation();this.applyRotation(ra);};qa.prototype.setDimensions=function(ra,sa){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api3=ra;this.$VideoPlayerHTML5Api4=sa;this.applyRotation(this.$VideoPlayerHTML5Api31.getRotation());if(this.$VideoPlayerHTML5Api52)this.$VideoPlayerHTML5Api52.updateDimensions(ra,sa);if(this.$VideoPlayerHTML5Api53)this.$VideoPlayerHTML5Api53.setDimensions(ra,sa);if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.setDimensions(ra,sa);};qa.prototype.$VideoPlayerHTML5Api54=function(){'use strict';this.$VideoPlayerHTML5Api1.controls=!this.$VideoPlayerHTML5Api19;};qa.prototype.$VideoPlayerHTML5Api22=function(){'use strict';this.$VideoPlayerHTML5Api1.controls=this.$VideoPlayerHTML5Api20&&!this.$VideoPlayerHTML5Api19;};qa.prototype.$VideoPlayerHTML5Api24=function(){'use strict';this.$VideoPlayerHTML5Api49=n.listen(this.$VideoPlayerHTML5Api1,'error',this.$VideoPlayerHTML5Api55.bind(this));this.$VideoPlayerHTML5Api23.addSubscriptions(this.$VideoPlayerHTML5Api49,n.listen(this.$VideoPlayerHTML5Api1,'playing',this.$VideoPlayerHTML5Api56.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'play',this.$VideoPlayerHTML5Api44.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'ended',this.$VideoPlayerHTML5Api57.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'waiting',this.$VideoPlayerHTML5Api58.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'pause',this.$VideoPlayerHTML5Api59.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'volumechange',this.$VideoPlayerHTML5Api60.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'mousedown',this.$VideoPlayerHTML5Api61.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'mouseup',this.$VideoPlayerHTML5Api62.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'timeupdate',this.$VideoPlayerHTML5Api63.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'click',this.$VideoPlayerHTML5Api64.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'loadedmetadata',this.$VideoPlayerHTML5Api65.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'progress',this.$VideoPlayerHTML5Api66.bind(this)),n.listen(this.$VideoPlayerHTML5Api1,'seeked',this.$VideoPlayerHTML5Api67.bind(this)),n.capture(this.$VideoPlayerHTML5Api1.parentNode,'pause',this.$VideoPlayerHTML5Api68.bind(this)));if(this.$VideoPlayerHTML5Api53)this.$VideoPlayerHTML5Api23.addSubscriptions(this.$VideoPlayerHTML5Api53.getSubscriptions());};qa.prototype.$VideoPlayerHTML5Api68=function(ra){'use strict';if(ra.target!==this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api1.ended){if(this.$VideoPlayerHTML5Api15==='unloaded'){this.preventPauseLoggingInMixin=false;ra.preventDefault();ra.stopPropagation();}ra.lastPauseReason=this.$VideoPlayerHTML5Api15;}};qa.prototype.$VideoPlayerHTML5Api66=function(){'use strict';var ra=this.$VideoPlayerHTML5Api1.buffered,sa=0,ta=0,ua=ra.length;while(ua-->0){var va=ra.end(ua),wa=ra.start(ua);if(wa<=this.$VideoPlayerHTML5Api1.currentTime){ta=wa;sa=va-wa;break;}}this.$VideoPlayerHTML5Api29();this.$VideoPlayerHTML5Api69('flash/updateBuffer',{duration:sa,offset:ta});};qa.prototype.$VideoPlayerHTML5Api29=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api70);if(this.$VideoPlayerHTML5Api1.networkState===this.$VideoPlayerHTML5Api1.NETWORK_LOADING)this.$VideoPlayerHTML5Api70=setTimeout((function(){return this.$VideoPlayerHTML5Api71();}).bind(this),qa.networkTimeout);};qa.prototype.$VideoPlayerHTML5Api71=function(){'use strict';var ra=this.$VideoPlayerHTML5Api1.buffered,sa=0;for(var ta=0;ta<ra.length;ta++){var ua=ra.start(ta),va=ra.end(ta);sa+=va-ua;}this.$VideoPlayerHTML5Api28(x.NETWORK_TIMEOUT,{buffered:sa});};qa.prototype.$VideoPlayerHTML5Api63=function(){'use strict';var ra;if(this.$VideoPlayerHTML5Api40){ra=this.$VideoPlayerHTML5Api40.currentTime;}else ra=this.$VideoPlayerHTML5Api1.currentTime;this.$VideoPlayerHTML5Api69('flash/updateStatus',{position:+ra.toFixed(3)});};qa.prototype.$VideoPlayerHTML5Api64=function(ra){'use strict';if(ra.button!==0)return;this.emit('clickVideo');ra.preventDefault();};qa.prototype.$VideoPlayerHTML5Api38=function(){'use strict';return this.$VideoPlayerHTML5Api1.paused;};qa.prototype.$VideoPlayerHTML5Api72=function(){'use strict';var ra=this.$VideoPlayerHTML5Api1.buffered;return ra.length&&ra.start(0)===0&&ra.end(0)===this.$VideoPlayerHTML5Api1.duration;};qa.prototype.$VideoPlayerHTML5Api58=function(){'use strict';if(!this.$VideoPlayerHTML5Api72()){this.$VideoPlayerHTML5Api73=true;this.$VideoPlayerHTML5Api69('flash/buffering');}};qa.prototype.setVolume=function(ra){'use strict';this.$VideoPlayerHTML5Api1.volume=ra;};qa.prototype.$VideoPlayerHTML5Api60=function(){'use strict';if(this.$VideoPlayerHTML5Api1.muted!==this.$VideoPlayerHTML5Api11&&this.$VideoPlayerHTML5Api1.volume===this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api1.volume>0){this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api1.muted;this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api1.volume;if(!this.$VideoPlayerHTML5Api1.muted){this.$VideoPlayerHTML5Api69('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api69('flash/muteVideo');}else{this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api1.muted;this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api1.volume;this.$VideoPlayerHTML5Api69('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api1.volume});}if(!this.$VideoPlayerHTML5Api1.muted)this.$VideoPlayerHTML5Api69('flash/turnOffAutoplay',{reason:'unmuted'});};qa.prototype.$VideoPlayerHTML5Api61=function(ra){'use strict';if(ra.button===0)this.$VideoPlayerHTML5Api13=true;};qa.prototype.$VideoPlayerHTML5Api62=function(ra){'use strict';if(ra.button===0)this.$VideoPlayerHTML5Api13=false;};qa.prototype.$VideoPlayerHTML5Api56=function(ra){'use strict';if(this.$VideoPlayerHTML5Api73){this.$VideoPlayerHTML5Api73=false;this.$VideoPlayerHTML5Api69('flash/buffered');}};qa.prototype.$VideoPlayerHTML5Api44=function(){'use strict';this.$VideoPlayerHTML5Api34=true;this.$VideoPlayerHTML5Api54();this.$VideoPlayerHTML5Api69('flash/beginPlayback',{position:this.$VideoPlayerHTML5Api1.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api43});this.$VideoPlayerHTML5Api29();};qa.prototype.$VideoPlayerHTML5Api59=function(ra){'use strict';if(this.$VideoPlayerHTML5Api1.ended){this.$VideoPlayerHTML5Api34=false;return;}if(this.$VideoPlayerHTML5Api1.seeking&&this.$VideoPlayerHTML5Api15===y.SEEK)return;if(this.$VideoPlayerHTML5Api13)return;if(this.$VideoPlayerHTML5Api15===y.SEEK){this.$VideoPlayerHTML5Api15=null;return;}if(this.$VideoPlayerHTML5Api15===null||this.$VideoPlayerHTML5Api15===y.USER)this.$VideoPlayerHTML5Api69('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api15=null;this.$VideoPlayerHTML5Api34=false;this.$VideoPlayerHTML5Api22();this.$VideoPlayerHTML5Api69('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api1.currentTime.toFixed(2)});};qa.prototype.$VideoPlayerHTML5Api57=function(){'use strict';if(this.$VideoPlayerHTML5Api40)return;this.$VideoPlayerHTML5Api22();this.$VideoPlayerHTML5Api34=false;this.$VideoPlayerHTML5Api69('flash/finishPlayback');this.setSphericalViewport(0,0);};qa.prototype.$VideoPlayerHTML5Api67=function(){'use strict';this.emit('seekEnd');};qa.prototype.setSphericalViewport=function(ra,sa){'use strict';this.$VideoPlayerHTML5Api53&&this.$VideoPlayerHTML5Api53.setViewport(ra,sa);};qa.prototype.$VideoPlayerHTML5Api65=function(){'use strict';this.$VideoPlayerHTML5Api69('flash/updateMetadata');};qa.prototype.$VideoPlayerHTML5Api48=function(ra){'use strict';this.emit('error',babelHelpers._extends({},ra,{isPlayback:this.$VideoPlayerHTML5Api16}));};qa.prototype.$VideoPlayerHTML5Api55=function(){'use strict';if(this.$VideoPlayerHTML5Api40)return;if(!this.$VideoPlayerHTML5Api1.error)return;this.emit('error',{error:oa(this.$VideoPlayerHTML5Api1.error.code),isPlayback:this.$VideoPlayerHTML5Api16,message:na(this.$VideoPlayerHTML5Api1.error.code)});};qa.prototype.$VideoPlayerHTML5Api28=function(event,ra){'use strict';if(event===x.STARTED_PLAYING&&this.$VideoPlayerHTML5Api35)ra.longest_init_response_time=this.$VideoPlayerHTML5Api35.getLongestInitResponseTime();ra.player_version=z.PLEASANTVILLE;ra.projection=this.$VideoPlayerHTML5Api37();this.$VideoPlayerHTML5Api69('flash/logEvent',{logData:babelHelpers._extends({event:event},ra)});};qa.prototype.$VideoPlayerHTML5Api69=function(event,ra){'use strict';i.inform(event,babelHelpers._extends({divID:this.$VideoPlayerHTML5Api2},ra));this.emit(event.substr('flash/'.length),ra);};qa.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api43;};qa.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api42;};qa.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api11;};qa.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api40)return this.$VideoPlayerHTML5Api40.playbackDuration;return this.$VideoPlayerHTML5Api1.duration||0;};qa.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api1.volume;};qa.prototype.hasHD=function(){'use strict';if(!this.$VideoPlayerHTML5Api31)return false;if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35.hasSelectableVideoTracks();return this.$VideoPlayerHTML5Api31.hasHD();};qa.prototype.isHD=function(){'use strict';return this.$VideoPlayerHTML5Api26;};qa.prototype.$VideoPlayerHTML5Api36=function(){'use strict';if(this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api31.hasHD()){return this.$VideoPlayerHTML5Api74();}else return this.$VideoPlayerHTML5Api75();};qa.prototype.$VideoPlayerHTML5Api74=function(){'use strict';if(this.$VideoPlayerHTML5Api25){return this.$VideoPlayerHTML5Api31.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api31.getPlayableSrcHD();};qa.prototype.$VideoPlayerHTML5Api75=function(){'use strict';if(this.$VideoPlayerHTML5Api25){return this.$VideoPlayerHTML5Api31.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api31.getPlayableSrcSD();};qa.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api21=!this.$VideoPlayerHTML5Api21;if(this.$VideoPlayerHTML5Api21){this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api50.showSubtitles();}else this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api50.hideSubtitles();this.emit('toggleSubtitles');};qa.prototype.shiftSubtitles=function(ra){'use strict';this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api50.shiftSubtitles(ra,this.$VideoPlayerHTML5Api21);};qa.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api31.hasSubtitles();};qa.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api21;};qa.prototype.areHLSActive=function(){'use strict';};qa.prototype.isRTMP=function(){'use strict';};qa.prototype.$VideoPlayerHTML5Api51=function(){'use strict';if(this.$VideoPlayerHTML5Api21)this.$VideoPlayerHTML5Api50&&this.$VideoPlayerHTML5Api50.showSubtitles();this.emit('loadedSubtitles');};qa.prototype.$VideoPlayerHTML5Api76=function(){'use strict';if(this.$VideoPlayerHTML5Api53){this.$VideoPlayerHTML5Api53.freeze();return;}if(!this.$VideoPlayerHTML5Api52){var ra=m.getElementDimensions(this.$VideoPlayerHTML5Api1),sa=l.create('canvas',{width:ra.width,height:ra.height,className:"_3t5i"});l.insertAfter(this.$VideoPlayerHTML5Api1,sa);this.$VideoPlayerHTML5Api52=new u(sa,this.$VideoPlayerHTML5Api1);}k.show(this.$VideoPlayerHTML5Api52.getDOMNode());this.$VideoPlayerHTML5Api52.updateFrameBuffer();k.hide(this.$VideoPlayerHTML5Api1);};qa.prototype.$VideoPlayerHTML5Api32=function(){'use strict';if(this.$VideoPlayerHTML5Api53){this.$VideoPlayerHTML5Api53.unfreeze();return;}if(!this.$VideoPlayerHTML5Api52)return;k.hide(this.$VideoPlayerHTML5Api52.getDOMNode());k.show(this.$VideoPlayerHTML5Api1);};qa.prototype.$VideoPlayerHTML5Api41=function(){'use strict';if(!this.$VideoPlayerHTML5Api40)return;if(this.$VideoPlayerHTML5Api77)return;this.$VideoPlayerHTML5Api77=true;if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api35.reload(this.$VideoPlayerHTML5Api40.currentTime);}else{this.$VideoPlayerHTML5Api1.src=this.$VideoPlayerHTML5Api36();this.$VideoPlayerHTML5Api1.preload=this.$VideoPlayerHTML5Api40.preload;}ia(this.$VideoPlayerHTML5Api1,this.$VideoPlayerHTML5Api40.currentTime,(function(){this.$VideoPlayerHTML5Api32();if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api1.muted=this.$VideoPlayerHTML5Api40.mutedState;this.$VideoPlayerHTML5Api40=null;}this.$VideoPlayerHTML5Api77=false;ha.once(this.$VideoPlayerHTML5Api1,(function(){return this.$VideoPlayerHTML5Api45();}).bind(this));}).bind(this));};qa.prototype.abortLoading=function(){'use strict';if(this.$VideoPlayerHTML5Api40)return;this.$VideoPlayerHTML5Api76();var ra=this.$VideoPlayerHTML5Api1.currentTime,sa=this.isMuted(),ta=this.$VideoPlayerHTML5Api1.duration,ua=this.$VideoPlayerHTML5Api1.paused,va=this.$VideoPlayerHTML5Api1.preload;this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api40={mutedState:sa,currentTime:ra,playbackDuration:ta,preload:va};if(ua&&this.$VideoPlayerHTML5Api34)ba(this.$VideoPlayerHTML5Api1,'pause');if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api35.unload();return;}this.$VideoPlayerHTML5Api1.preload='none';this.$VideoPlayerHTML5Api1.src='';if(!w.withoutLoad)this.$VideoPlayerHTML5Api1.load();};qa.prototype.toggleHD=function(){'use strict';if(!this.$VideoPlayerHTML5Api31)return;this.$VideoPlayerHTML5Api28(x.PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api28(x.REQUESTED_PLAYING,{reason:y.USER});this.$VideoPlayerHTML5Api26=!this.$VideoPlayerHTML5Api26;if(this.$VideoPlayerHTML5Api35){if(this.$VideoPlayerHTML5Api26){this.$VideoPlayerHTML5Api35.selectHighestQualityTrack();}else this.$VideoPlayerHTML5Api35.selectLowestQualityTrack();this.emit('qualityChange');return;}var ra=this.$VideoPlayerHTML5Api1.currentTime;this.$VideoPlayerHTML5Api1.src=this.$VideoPlayerHTML5Api36();ha.once(this.$VideoPlayerHTML5Api1,(function(){this.$VideoPlayerHTML5Api1.currentTime=ra;this.$VideoPlayerHTML5Api45();this.emit('qualityChange');}).bind(this));this.$VideoPlayerHTML5Api16=true;this.$VideoPlayerHTML5Api47();};qa.prototype.$VideoPlayerHTML5Api30=function(){'use strict';var ra={projectionType:this.$VideoPlayerHTML5Api37(),fieldOfView:this.$VideoPlayerHTML5Api5.sphericalFieldOfView,videoID:this.getVideoID(),expansionCoef:1.01};if(this.$VideoPlayerHTML5Api5.sphericalConfig)Object.assign(ra,this.$VideoPlayerHTML5Api5.sphericalConfig);try{this.$VideoPlayerHTML5Api53=new this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Spherical(this.$VideoPlayerHTML5Api1,ra);}catch(sa){ja((function(){return this.emit('error',{error:'SPHERICAL_SETUP_FAILED',message:sa.message});}).bind(this));}if(this.$VideoPlayerHTML5Api53){this.$VideoPlayerHTML5Api53.addListener('DOM/click',(function(ta){return this.$VideoPlayerHTML5Api64(ta);}).bind(this));['updateViewportBegin','updateViewportEnd','error'].forEach(ea.bind(null,this.$VideoPlayerHTML5Api53,this));if(!this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api1.src=this.$VideoPlayerHTML5Api36();}};qa.getPlayerVersion=function(){'use strict';return 'pleasantville';};qa.prototype.$VideoPlayerHTML5Api37=function(){'use strict';return this.$VideoPlayerHTML5Api31.getProjection();};qa.prototype.$VideoPlayerHTML5Api45=function(){'use strict';if(this.$VideoPlayerHTML5Api16){if(this.$VideoPlayerHTML5Api17)var ra=n.capture(this.$VideoPlayerHTML5Api1.parentNode,'play',function(sa){Event.kill(sa);ra.remove();});if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api35.play();}else this.$VideoPlayerHTML5Api1.play();}this.$VideoPlayerHTML5Api46();};qa.getStreamTypeFromConfig=function(ra){'use strict';var sa=new s(ra.videoData[0]);return sa.getStreamType();};qa.networkTimeout=5000;f.exports=qa;},null);
__d('VideoPlayButton',['CSS','EventListener','VideoDisplayTimePlayButton'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n){'use strict';this.$VideoPlayButton1=l;this.$VideoPlayButton2=m;if(n){this.$VideoPlayButton3=n.hiddenAfterFinish;this.$VideoPlayButton4=n.hiddenWhilePaused;this.$VideoPlayButton5=!!n.hiddenInFallback;}var o=j.getClicked(this.$VideoPlayButton2);j.unregister(this.$VideoPlayButton2);l.addListener('beginPlayback',this.$VideoPlayButton6.bind(this));l.addListener('finishPlayback',this.$VideoPlayButton7.bind(this));l.addListener('pausePlayback',this.$VideoPlayButton8.bind(this));l.addListener('buffering',this.$VideoPlayButton9.bind(this));l.addListener('buffered',this.$VideoPlayButton10.bind(this));l.addListener('stateChange',this.$VideoPlayButton11.bind(this));l.addListener('playRequested',this.$VideoPlayButton12.bind(this));l.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton13.bind(this));l.addListener('clickVideo',this.$VideoPlayButton14.bind(this));i.listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton15.bind(this));if(n&&n.hiddenWhileLoading)h.show(this.$VideoPlayButton2);if(o)this.$VideoPlayButton15();}k.prototype.$VideoPlayButton11=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){h.hide(this.$VideoPlayButton2);}else h.show(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton6=function(){'use strict';h.hide(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton8=function(){'use strict';if(this.$VideoPlayButton4)return;h.show(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton12=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;h.hide(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton13=function(){'use strict';if(!this.$VideoPlayButton1.isState('playing'))h.show(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton7=function(){'use strict';if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()){h.hide(this.$VideoPlayButton2);}else h.show(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton9=function(){'use strict';h.hide(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton10=function(){'use strict';h.hide(this.$VideoPlayButton2);};k.prototype.$VideoPlayButton15=function(){'use strict';this.$VideoPlayButton1.clickVideo();};k.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;h.hide(this.$VideoPlayButton2);};f.exports=k;},null);
__d('VideoSpinner',['CSS','EventListener'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){'use strict';this.$VideoSpinner1=l;this.$VideoSpinner2=k;this.$VideoSpinner3=false;k.addListener('beginPlayback',this.$VideoSpinner4.bind(this));k.addListener('finishPlayback',this.$VideoSpinner5.bind(this));k.addListener('pausePlayback',this.$VideoSpinner6.bind(this));k.addListener('playRequested',this.$VideoSpinner7.bind(this));k.addListener('buffering',this.$VideoSpinner8.bind(this));k.addListener('buffered',this.$VideoSpinner9.bind(this));k.addListener('stateChange',this.$VideoSpinner10.bind(this));k.addListener('clickVideo',this.$VideoSpinner11.bind(this));i.listen(this.$VideoSpinner1,'click',this.$VideoSpinner12.bind(this));}j.prototype.$VideoSpinner8=function(){'use strict';h.show(this.$VideoSpinner1);this.$VideoSpinner3=true;};j.prototype.$VideoSpinner9=function(){'use strict';h.hide(this.$VideoSpinner1);this.$VideoSpinner3=false;};j.prototype.$VideoSpinner4=function(){'use strict';if(this.$VideoSpinner3){h.show(this.$VideoSpinner1);}else h.hide(this.$VideoSpinner1);};j.prototype.$VideoSpinner6=function(){'use strict';h.hide(this.$VideoSpinner1);};j.prototype.$VideoSpinner7=function(){'use strict';h.hide(this.$VideoSpinner1);};j.prototype.$VideoSpinner5=function(){'use strict';h.hide(this.$VideoSpinner1);};j.prototype.$VideoSpinner10=function(){'use strict';if(this.$VideoSpinner2.isState('fallback'))h.hide(this.$VideoSpinner1);};j.prototype.$VideoSpinner11=function(){'use strict';if(this.$VideoSpinner2.isState('fallback'))return;if(this.$VideoSpinner3||this.$VideoSpinner2.isState('ready')||this.$VideoSpinner2.isState('loading'))h.show(this.$VideoSpinner1);};j.prototype.$VideoSpinner12=function(){'use strict';this.$VideoSpinner2.clickVideo();};f.exports=j;},null);
__d('VideoHomeViewportTracking',['DOM','csx','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=babelHelpers.inherits(p,m);o=n&&n.prototype;p.prototype.getDataFromConfig=function(q){'use strict';this.$VideoHomeViewportTracking1=q.log;this.$VideoHomeViewportTracking2=q.container;};p.prototype.getTimeout=function(){'use strict';return 0;};p.prototype.getAllStories=function(){'use strict';var q=h.scry(this.$VideoHomeViewportTracking2,"._5bll");return q.filter(function(r){return r.getAttribute('data-home-vpv');});};p.prototype.getStoryID=function(q){'use strict';var r=JSON.parse(q.getAttribute('data-home-vpv'));return r.storyID;};p.prototype.getDataToLog=function(q){'use strict';return JSON.parse(q.getAttribute('data-home-vpv'));};p.prototype.sendDataToLog=function(q,r){'use strict';var s={};s[l.EVENT]=j.VPV;s[l.SESSION_ID]=r.sessionID;s[l.DATA_SOURCE]=r.dataSource;s[l.CHANNEL_ID]=r.channelID;s[l.EVENT_TARGET]=k.STORY;s[l.EVENT_TARGET_ID]=r.storyID;s[l.CHANNEL_POSITION]=r.channelPosition;s[l.POSITION_IN_CHANNEL]=r.positionInChannel;s[l.TRACKING_DATA]=r.trackingData;this.$VideoHomeViewportTracking1(s);};function p(){'use strict';n.apply(this,arguments);}f.exports=p;},null);
__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=undefined,t=undefined,u=undefined,v=0,w={init:function(x){u=x.session_id;v=Date.now();var y=new m();y.init(r,x.container);t=y;var z=new q(),aa={log:w.log,container:x.container};z.init(aa);s=z;h.subscribe(k.Events.init,function(ca,da){var ea=da.arbiter;if(ea){ea.subscribe(k.Events.tti,function(event,fa){var ga={};ga[p.EVENT]=o.TTI;ga[p.SESSION_ID]=u;ga[p.PERF_TIME_MS]=Date.now()-v;w.log(ga);});ea.subscribe(k.Events.loaded,function(event,fa){var ga={};ga[p.EVENT]=o.E2E;ga[p.SESSION_ID]=u;ga[p.PERF_TIME_MS]=Date.now()-v;w.log(ga);});}});function ba(){if(u!==x.session_id)return;var ca={};ca[p.EVENT]=o.SESSION_END;ca[p.SESSION_ID]=u;ca[p.EXIT_POINT_TYPE]=n.UNKNOWN;w.log(ca);y.updateTimeTrackingData(true);z.updateTimeTrackingData(true);u=null;t=null;s=null;}l.onLeave(ba);i.subscribe(i.SHUTDOWN,ba);},updateViewportTracking:function(){if(t){t.fireTimer();t.updateTimeTrackingData(false,'scroll');}if(s){s.fireTimer();s.updateTimeTrackingData(false,'scroll');}},_pause:function(x,y){if(u){var z={};z[p.EVENT]=o.SESSION_PAUSE;z[p.SESSION_ID]=u;z[p.EXIT_POINT_TYPE]=n.CHANNEL;z[p.EXIT_POINT_VALUE]=y;w.log(z);}},_resume:function(x,y){if(u){var z={};z[p.EVENT]=o.SESSION_RESUME;z[p.SESSION_ID]=u;z[p.ENTRY_POINT_TYPE]=n.CHANNEL;z[p.EXIT_POINT_VALUE]=y;w.log(z);}},getPlayerLoggingData:function(){return {video_home_session_id:u};},log:function(x){if(u&&v){var y=Date.now()-v;x[p.TIME_SINCE_START]=y+.001;}j.log('VideoHomeLoggerConfig',x);}};h.subscribe('LogEnterChannel',w._pause);h.subscribe('LogExitChannel',w._resume);f.exports=w;},null);
__d("XVideoDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/video_data\/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"}});},null);
__d('VideoPlayerController',['Promise','Arbiter','Banzai','CSS','DOM','DOMDimensions','DOMQuery','EventEmitter','Flash','FullScreen','getFullScreenElement','JSLogger','JSResource','Map','VideoPlayerReason','Run','ScriptPath','SubscriptionsHandler','VideoChannelLogger','VideoChannelViewChainLengthManager','VideoHomeLogger','VideoMimeTypes','VideoPlayerApiEvents','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerResizeSettings','VideosRenderingInstrumentation','Visibility','XVideoDataController','arrayContains','canVideoPlayType','collectDataAttributes','cx','destroyOnUnload','emptyFunction','enumerate','forwardEvent','getElementPosition','getViewportDimensions','invariant','logVideosClickTracking','mapObject','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb){if(c.__markCompiled)c.__markCompiled();var db,eb,fb=5,gb=1;function hb(){return ea.useMonotonicallyIncreasingTimers?cb():Date.now();}db=babelHelpers.inherits(ib,o);eb=db&&db.prototype;function ib(jb,kb){'use strict';var lb=jb.video_ids,mb=jb.video_urls,nb=jb.chaining_token,ob=jb.video_channel_id,pb=jb.source,qb=jb.ad_client_token,rb=jb.should_autoplay,sb=jb.player_version,tb=jb.autoplay_setting,ub=jb.additional_logdata_getter,vb=jb.apiModule,wb=jb.apiConfig,xb=jb.useInlineFallback,yb=jb.accessToken,zb=jb.projection,ac=jb.playerOrigin,bc=kb.root_element,cc=kb.container_element,dc=kb.video_element;eb.constructor.call(this);if(rb===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController1=new u();this.$VideoPlayerController2=zb;this.$VideoPlayerController3=0;this.$VideoPlayerController4=yb;this.$VideoPlayerController5=rb;this.$VideoPlayerController6=tb;this.$VideoPlayerController7=qb;this.$VideoPlayerController8=dc;this.$VideoPlayerController9=bc;this.$VideoPlayerController10=cc;this.$VideoPlayerController11=false;this.$VideoPlayerController12=sb;this.$VideoPlayerController13=lb;this.$VideoPlayerController14=mb;this.$VideoPlayerController15=nb;this.$VideoPlayerController16=ob;this.$VideoPlayerController17=ub||{get:ua};this.$VideoPlayerController18=ac;this.$VideoPlayerController19=vb;this.$VideoPlayerController20=wb;this.$VideoPlayerController21=this.$VideoPlayerController19.getStreamTypeFromConfig(this.$VideoPlayerController20);this.$VideoPlayerController22=xb;this.$VideoPlayerController23=null;this.$VideoPlayerController24=null;this.$VideoPlayerController25=null;this.$VideoPlayerController26=pb;this.$VideoPlayerController27=new ga(pb);if(this.$VideoPlayerController26===ka.CHANNEL)this.setIsInChannel(true);this.collectFeedTrackingData();this.$VideoPlayerController27.setScriptPath(x.getScriptPath());var ec=ma.retrieveRenderTime(this.$VideoPlayerController9);this.$VideoPlayerController28=hb()-ec;this.$VideoPlayerController29='loading';this.logEvent(fa.PLAYER_INITIALIZATION,{time_ms:ec});this.$VideoPlayerController30=false;if(this.$VideoPlayerController19.isImplementationUnavailable(this.$VideoPlayerController22)){if(this.$VideoPlayerController22){this.$VideoPlayerController31();}else{this.$VideoPlayerController32();return;}}else this.$VideoPlayerController33();j.subscribe(j.SHUTDOWN,(function(){this.pause('unloaded');}).bind(this));if(this.$VideoPlayerController5)if(na.isHidden()){na.once(na.VISIBLE,(function(){this.play(v.AUTOPLAY);}).bind(this));}else this.play(v.AUTOPLAY);this.$VideoPlayerController34=0;this.$VideoPlayerController35=false;this.$VideoPlayerController36=new y();this.$VideoPlayerController36.addSubscriptions(i.subscribe('layer_shown',(function(fc,gc){if(gc.type==='DialogX'||gc.type==='PhotoSnowlift'){this.$VideoPlayerController34=this.$VideoPlayerController34+1;if(this.$VideoPlayerController34>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(v.PAGE_VISIBILITY);this.$VideoPlayerController35=true;}}}).bind(this)),i.subscribe('layer_hidden',(function(fc,gc){if(gc.type==='DialogX'||gc.type==='PhotoSnowlift'){this.$VideoPlayerController34=this.$VideoPlayerController34-1;if(this.$VideoPlayerController34===0)if(this.$VideoPlayerController35&&!this.getIsInChannel()){this.play(v.PAGE_VISIBILITY);this.$VideoPlayerController35=false;}}}).bind(this)),i.subscribe(s.DUMP_EVENT,(function(fc,gc){return this.$VideoPlayerController37(fc,gc);}).bind(this)));ta((function(){return this.$VideoPlayerController36.release();}).bind(this));w.onLeave((function(){return this.pause('unloaded');}).bind(this));this.abortLoading();}ib.prototype.$VideoPlayerController38=function(){'use strict';var jb=n.scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!jb.length)return h.reject();l.replace(this.getVideoNode(),jb[0]);this.$VideoPlayerController8=jb[0];return t('VideoPlayerFlashApi').load();};ib.prototype.$VideoPlayerController31=function(){'use strict';this.logEvent('switched_implementation',{error_user_info:this.getDebugInfo()});this.$VideoPlayerController38().then(function(jb){if(jb.isImplementationUnavailable()){return h.reject();}else return h.resolve(jb);}).done((function(jb){this.$VideoPlayerController19=jb;this.$VideoPlayerController33();}).bind(this),(function(jb){return this.$VideoPlayerController32();}).bind(this));};ib.prototype.collectFeedTrackingData=function(){'use strict';this.$VideoPlayerController27.setFTData(ra(this.getRootNode(),['ft']));};ib.prototype.$VideoPlayerController37=function(jb,kb){'use strict';kb.video_player_debug_info=kb.video_player_debug_info||{};kb.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();};ib.prototype.setSphericalViewport=function(jb,kb){'use strict';this.getVideoAPI().setSphericalViewport(jb,kb);};ib.prototype.setAdditionalLogDataGetter=function(jb){'use strict';this.$VideoPlayerController17=jb;};ib.prototype.$VideoPlayerController33=function(){'use strict';this.$VideoPlayerController19.onImplementationReady(this.getVideoNode(),(function(){return this.onApiReady();}).bind(this));};ib.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController19.isImplementationUnavailable(this.$VideoPlayerController22)&&!this.$VideoPlayerController22;};ib.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController39;};ib.prototype.setIsInChannel=function(jb){'use strict';if(ka.CHANNEL!==this.$VideoPlayerController26){if(jb){this.$VideoPlayerController27.updateSource(ka.CHANNEL);}else this.$VideoPlayerController27.updateSource(this.$VideoPlayerController26);this.logEvent(ja.PLAYER_FORMAT_CHANGED);}this.$VideoPlayerController39=jb;};ib.prototype.$VideoPlayerController32=function(){'use strict';var jb={error:ha.ERROR_CALLING_FLASH,state:ia.PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(ja.ERROR,jb);this.$VideoPlayerController5=false;};ib.prototype.$VideoPlayerController40=function(jb,kb,lb){'use strict';var mb={error:jb,error_description:kb,error_user_info:this.getDebugInfo(),state:lb?ia.PLAYBACK_FAILURE:ia.PLAYER_FAILURE};this.logEvent(ja.ERROR,mb);if(lb&&this.$VideoPlayerController30)this.$VideoPlayerController30=false;};ib.prototype.setRotation=function(jb){'use strict';this.getVideoAPI().setRotation(jb);};ib.prototype.setDimensions=function(jb,kb){'use strict';this.$VideoPlayerController10.style.width=jb+'px';this.$VideoPlayerController10.style.height=kb+'px';this.$VideoPlayerController8.style.width=jb+'px';this.$VideoPlayerController8.style.height=kb+'px';if(this.isState('loading')){this.$VideoPlayerController41={width:jb,height:kb};}else if(this.getVideoAPI().setDimensions){if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController42||la.disable_flash_set_dimensions))return;this.getVideoAPI().setDimensions(jb,kb);}};ib.prototype.handleFlashApiFactoryError=function(jb,kb){'use strict';this.$VideoPlayerController40(ha.ERROR_CALLING_FLASH,jb.message,kb);};ib.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController30;};ib.prototype.play=function(jb){'use strict';this.$VideoPlayerController43();if(!this.$VideoPlayerController44)this.$VideoPlayerController44=jb;if(!this.$VideoPlayerController30){this.$VideoPlayerController25=this.$VideoPlayerController45();var kb=this.$VideoPlayerController46({debug_reason:jb});this.logEvent(ja.REQUESTED_PLAYING,kb);}this.emit('playRequested');this.sendPlayRequest(jb);};ib.prototype.sendPlayRequest=function(jb){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');return;}this.$VideoPlayerController30=true;if(this.isState('loading')){this.$VideoPlayerController47={reason:jb};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController48)this.logEvent(ja.UNMUTED);this.$VideoPlayerController48=false;this.getVideoAPI().play(jb);}};ib.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController44;};ib.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.resetPositions();this.$VideoPlayerController49();if(this.$VideoPlayerController50&&this.$VideoPlayerController50.destroy)this.$VideoPlayerController50.destroy();this.$VideoPlayerController50=null;this.setState('loading');this.$VideoPlayerController33();};ib.prototype.detachRootNode=function(){'use strict';l.remove(this.$VideoPlayerController9);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController19.onImplementationReady(this.getVideoNode(),(function(){return this.$VideoPlayerController51();}).bind(this));};ib.prototype.getVideoAPI=function(){'use strict';return this.$VideoPlayerController50;};ib.prototype.getVideoNode=function(){'use strict';return this.$VideoPlayerController8;};ib.prototype.getRootNode=function(){'use strict';return this.$VideoPlayerController9;};ib.prototype.$VideoPlayerController51=function(){'use strict';this.setState('ready');this.logEvent(fa.PLAYER_ALLOCATED);this.$VideoPlayerController48=!this.getVideoAPI().isMuted();this.$VideoPlayerController52=this.getVideoAPI().areSubtitlesActive();if(this.$VideoPlayerController47){this.sendPlayRequest(this.$VideoPlayerController47.reason);this.$VideoPlayerController47=null;}if(this.$VideoPlayerController41){this.setDimensions(this.$VideoPlayerController41.width,this.$VideoPlayerController41.height);this.$VideoPlayerController41=null;}if(this.$VideoPlayerController53){this.getVideoAPI().unmute();this.$VideoPlayerController53=null;}};ib.prototype.onApiReady=function(jb){'use strict';this.$VideoPlayerController50=new this.$VideoPlayerController19(this.getVideoNode(),this.$VideoPlayerController20);this.logEvent(fa.PLAYER_ALLOCATED);this.$VideoPlayerController54();this.$VideoPlayerController51();var kb={is_auto_played:this.isAutoplayable()};if(jb)kb.init_delay=jb;this.logEvent(ja.PLAYER_LOADED,kb);};ib.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController23=null;this.$VideoPlayerController24=null;};ib.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerController23;};ib.prototype.$VideoPlayerController43=function(){'use strict';if(!this.$VideoPlayerController55){var jb=this.getOption('VideoWithClickToChannelView','isChannelEligible');aa.registerChainingInfos(this.getVideoID(),this.$VideoPlayerController15);this.$VideoPlayerController55=aa.getLoggingData();}this.$VideoPlayerController56=z.getPlayerLoggingData();};ib.prototype.$VideoPlayerController57=function(jb){'use strict';var kb=jb.position;this.$VideoPlayerController30=false;if(kb!==undefined)this.$VideoPlayerController24=kb;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController58();}else if(this.isRTMP())this.$VideoPlayerController59();};ib.prototype.$VideoPlayerController60=function(jb){'use strict';var kb=jb.position;if(kb!==undefined)this.$VideoPlayerController23=kb;};ib.prototype.$VideoPlayerController61=function(jb){'use strict';var event=jb.event;delete jb.event;this.logEvent(event,jb);};ib.prototype.$VideoPlayerController62=function(){'use strict';this.resetPositions();if(!this.isState('finished'))this.setState('paused');};ib.prototype.$VideoPlayerController63=function(){'use strict';this.resetPositions();this.setState('finished');this.$VideoPlayerController35=false;};ib.prototype.getVideosCount=function(){'use strict';return this.$VideoPlayerController13.length;};ib.prototype.$VideoPlayerController64=function(){'use strict';var jb=this.getVideosCount();return (this.$VideoPlayerController3+1)%jb;};ib.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume();};ib.prototype.$VideoPlayerController65=function(){'use strict';var jb=this.isFullscreen();k.conditionClass(this.$VideoPlayerController10,"_1hwh",jb);k.conditionClass(this.$VideoPlayerController10,"_52fb",jb);if(!jb&&this.$VideoPlayerController66){this.$VideoPlayerController66.unsubscribe();this.$VideoPlayerController66=null;}if(this.$VideoPlayerController42!=jb){this.logEvent(jb?ja.ENTERED_FS:ja.EXITED_FS);var kb=m.getElementDimensions(this.$VideoPlayerController10);this.$VideoPlayerController50.setDimensions(kb.width,kb.height);this.emit('toggleFullscreen');}this.$VideoPlayerController42=jb;};ib.prototype.isFullscreen=function(){'use strict';return q.isFullScreen()&&this.$VideoPlayerController10===r();};ib.prototype.toggleFullscreen=function(){'use strict';if(q.toggleFullScreen(this.$VideoPlayerController10)){k.addClass(this.$VideoPlayerController10,"_1hwh");this.$VideoPlayerController66=q.subscribe('changed',this.$VideoPlayerController65.bind(this));}};ib.prototype.$VideoPlayerController67=function(){'use strict';var jb=this.getVideosCount();return (this.$VideoPlayerController3-1+jb)%jb;};ib.prototype.$VideoPlayerController68=function(jb){'use strict';this.logEvent(ja.CAROUSEL_CHANGE,{source_index:this.$VideoPlayerController3,target_index:jb});this.getVideoAPI().switchVideo(jb);this.$VideoPlayerController3=jb;this.emit('switchVideo');};ib.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();if(this.$VideoPlayerController52&&this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();}else this.$VideoPlayerController53=true;};ib.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted();};ib.prototype.mute=function(){'use strict';if(this.$VideoPlayerController52&&!this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();this.getVideoAPI().mute();};ib.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration();};ib.prototype.getPlaybackPosition=function(){'use strict';return this.$VideoPlayerController23||0;};ib.prototype.nextVideo=function(){'use strict';this.$VideoPlayerController68(this.$VideoPlayerController64());};ib.prototype.previousVideo=function(){'use strict';this.$VideoPlayerController68(this.$VideoPlayerController67());};ib.prototype.getVideoIndex=function(){'use strict';return this.$VideoPlayerController3;};ib.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController13[this.getVideoIndex()];};ib.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController16;};ib.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController14[this.getVideoIndex()];};ib.prototype.$VideoPlayerController54=function(){'use strict';var jb=this.$VideoPlayerController50;this.$VideoPlayerController69=new y();var kb=[['buffered',(function(){return this.setBuffering(false);}).bind(this)],['buffering',(function(){return this.setBuffering(true);}).bind(this)],['beginPlayback',(function(lb){return this.$VideoPlayerController57(lb);}).bind(this)],['updateStatus',(function(lb){return this.$VideoPlayerController60(lb);}).bind(this)],['logEvent',(function(lb){return this.$VideoPlayerController61(lb.logData);}).bind(this)],['unmuteVideo',(function(){return this.$VideoPlayerController70();}).bind(this)],['pausePlayback',(function(){return this.$VideoPlayerController62();}).bind(this)],['clickForTracking',(function(){return ab(this.getVideoNode());}).bind(this)],['error',(function(lb){return (this.$VideoPlayerController40(lb.error,lb.message,lb.isPlayback));}).bind(this)],['finishPlayback',(function(){return this.$VideoPlayerController63();}).bind(this)]];this.$VideoPlayerController69.addSubscriptions.apply(this.$VideoPlayerController69,kb.map(function(lb){return jb.addListener.apply(jb,lb);}).concat(da.map(wa.bind(null,jb,this))));};ib.prototype.$VideoPlayerController49=function(){'use strict';if(this.$VideoPlayerController69)this.$VideoPlayerController69.release();};ib.prototype.seek=function(jb){'use strict';this.getVideoAPI().seek(jb);};ib.prototype.pause=function(jb){'use strict';if(this.isState('loading')){this.$VideoPlayerController47=null;}else if(this.isState('playing')){this.getVideoAPI().pause(jb);}else if(this.$VideoPlayerController30)this.getVideoAPI().pause(jb);this.$VideoPlayerController30=false;this.$VideoPlayerController35=false;};ib.prototype.isPlayerVersion=function(jb){'use strict';return this.getPlayerVersion()===jb;};ib.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController5;};ib.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController11;};ib.prototype.setBuffering=function(jb){'use strict';if(jb!==this.$VideoPlayerController11){this.$VideoPlayerController11=jb;if(this.$VideoPlayerController11){this.$VideoPlayerController27.startBuffering(this.getPlaybackPosition());}else this.$VideoPlayerController27.endBuffering();}};ib.prototype.setVolume=function(jb){'use strict';this.getVideoAPI().setVolume(jb);};ib.prototype.getDOMPosition=function(){'use strict';return xa(this.getRootNode());};ib.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController71=true;};ib.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController71;};ib.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController7;};ib.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController7;};ib.prototype.$VideoPlayerController72=function(){'use strict';var jb=p.getVersion();if(jb)jb=jb.join('.');var kb=this.getVideoInfo()||{};return Object.assign(babelHelpers._extends({ad_client_token:this.$VideoPlayerController7,access_token:this.$VideoPlayerController4,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController6,projection:this.$VideoPlayerController2,player_version:this.getPlayerVersion(),flash_version:jb,video_id:this.getVideoID(),player_state:this.$VideoPlayerController29,player_origin:this.$VideoPlayerController18,stream_type:kb.streamType||this.$VideoPlayerController21,video_time_position:this.$VideoPlayerController23||0,video_channel_id:this.$VideoPlayerController16,fbcdn_pop:this.$VideoPlayerController25},ba.getPlayerLoggingData(),this.$VideoPlayerController56,this.$VideoPlayerController55),this.$VideoPlayerController17.get());};ib.prototype.$VideoPlayerController45=function(){'use strict';var jb=this.getVideoInfo();if(!jb)return null;var kb=jb.resourceUrl,lb=/scontent-([a-z]+)\./.exec(kb);if(!lb)return null;return lb[1];};ib.prototype.getVideoInfo=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};ib.prototype.getProgressiveURL=function(){'use strict';var jb=null;do{try{jb=this.getVideoInfo().resourceUrl;if(jb.indexOf('DASH')===0)jb=null;}catch(kb){}if(jb)break;try{jb=this.$VideoPlayerController20.videoData[0].hd_src;}catch(kb){}if(jb)break;try{jb=this.$VideoPlayerController20.videoData[0].sd_src;}catch(kb){}if(jb)break;}while(false);return jb;};ib.prototype.getDebugInfo=function(){'use strict';var jb=this.getVideoInfo(),kb={initializationTime:this.$VideoPlayerController28,version:this.getPlayerVersion(),stallTime:this.$VideoPlayerController27.getCurrentStallTime(),state:this.$VideoPlayerController29,canPlayType:bb(ca,qa)},lb={videoID:this.getVideoID()};if(!jb)return {player:kb,currentVideo:lb};return {currentVideo:babelHelpers._extends({},lb,{streamType:jb.streamType,isLiveStream:jb.isLiveStream,isHD:jb.isHD,hasHD:jb.hasHD,resourceUrl:jb.resourceUrl,hasSubtitles:jb.hasSubtitles,hasRateLimit:!!jb.hasUnlimitedSrc,isRateLimited:jb.hasUnlimitedSrc&&!jb.useUnlimitedSrc,tagHD:jb.tagHD,tagSD:jb.tagSD,projection:jb.projection}),player:kb};};ib.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles();};ib.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive();};ib.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive();};ib.prototype.isRTMP=function(){'use strict';return this.getVideoAPI().isRTMP();};ib.prototype.toggleSubtitles=function(){'use strict';this.getVideoAPI().toggleSubtitles();if(this.areSubtitlesActive()){this.logEvent(ja.TOGGLE_SUBTITLE_ON);}else this.logEvent(ja.TOGGLE_SUBTITLE_OFF);this.$VideoPlayerController52=false;};ib.prototype.shiftSubtitles=function(jb){'use strict';this.getVideoAPI().shiftSubtitles(jb);};ib.prototype.isHD=function(){'use strict';return this.getVideoAPI().isHD();};ib.prototype.hasHD=function(){'use strict';return this.getVideoAPI().hasHD();};ib.prototype.toggleHD=function(){'use strict';this.getVideoAPI().toggleHD();};ib.prototype.switchToStreamType=function(jb){'use strict';this.getVideoAPI().switchToStreamType(jb);};ib.prototype.$VideoPlayerController59=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(oa.getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',fb).getURI().toString());};ib.prototype.$VideoPlayerController58=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(oa.getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',gb).getURI().toString());};ib.prototype.$VideoPlayerController46=function(jb){'use strict';var kb=this.getVideoInfo();if(kb!=null)return Object.assign({resource_url:kb.resourceUrl,liveStream:kb.isLiveStream,hd:kb.isHD},jb);return jb;};ib.prototype.$VideoPlayerController73=function(){'use strict';var jb=this.getDOMPosition(),kb=ya().height,lb=null;if(jb.y<=0){lb=jb.y;}else if(jb.y+jb.height<kb){lb=0;}else lb=jb.y+jb.height-kb;return lb;};ib.prototype.logEvent=function(event,jb){'use strict';var kb=Object.assign(this.$VideoPlayerController72(),jb),lb=this.getOriginalPlayReason();if(lb&&event!==ja.DISPLAYED)kb.video_play_reason=lb;if(event===ja.FINISHED_PLAYING)kb.viewport_distance=this.$VideoPlayerController73();this.$VideoPlayerController27.logEvent(event,kb);};ib.prototype.setState=function(jb){'use strict';if(this.isState('fallback'))return;this.$VideoPlayerController29=jb;if(this.$VideoPlayerController29==='fallback'){k.addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController49();}this.emit('stateChange');};ib.prototype.isState=function(jb){'use strict';return this.$VideoPlayerController29===jb;};ib.prototype.abortLoading=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().abortLoading();};ib.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};ib.prototype.getPlayerVersion=function(){'use strict';if(this.$VideoPlayerController19.getPlayerVersion){return this.$VideoPlayerController19.getPlayerVersion();}else this.$VideoPlayerController12;};ib.prototype.$VideoPlayerController70=function(){'use strict';this.$VideoPlayerController48=false;};ib.prototype.registerOption=function(jb,kb,lb,mb){'use strict';if(!this.$VideoPlayerController1.has(jb))this.$VideoPlayerController1.set(jb,new u());if(this.$VideoPlayerController1.get(jb).has(kb))throw new Error('An option can only be registered once for each component');this.$VideoPlayerController1.get(jb).set(kb,{getter:lb,setter:mb});this.emit('optionsChange');};ib.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController1.keys();};ib.prototype.getOptions=function(jb){'use strict';if(this.$VideoPlayerController1.has(jb))return this.$VideoPlayerController1.get(jb).keys();return va([]);};ib.prototype.hasOption=function(jb,kb){'use strict';if(!this.$VideoPlayerController1.has(jb))return false;if(!this.$VideoPlayerController1.get(jb).has(kb))return false;return true;};ib.prototype.getOption=function(jb,kb){'use strict';if(!this.hasOption(jb,kb))return undefined;return this.$VideoPlayerController1.get(jb).get(kb).getter();};ib.prototype.setOption=function(jb,kb,lb){'use strict';if(!this.$VideoPlayerController1.has(jb))throw new Error('Component not registered');if(!this.$VideoPlayerController1.get(jb).has(kb))throw new Error('Option not registered');var mb=this.$VideoPlayerController1.get(jb).get(kb).setter;if(mb)return mb(lb);throw new Error('Read-only option');};ib.playerStates=['finished','loading','paused','playing','ready','fallback'];f.exports=ib;},null);
__d('VideoCover',['Bootloader','CSS','EventListener','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m,n,o,p){'use strict';var q=arguments.length<=4||arguments[4]===undefined?null:arguments[4];!(o.length===m.getVideosCount())?k(0):undefined;this.$VideoCover1=n;this.$VideoCover2=o;this.$VideoCover3=p;this.$VideoCover4=m;if(q){this.$VideoCover5=q.hiddenAfterFinish;this.$VideoCover6=q.showWhileBuffering;this.$VideoCover7=q.showAfterFallback;}m.addListener('stateChange',(function(){return this.$VideoCover8();}).bind(this));m.addListener('beginPlayback',this.$VideoCover9.bind(this));m.addListener('finishPlayback',this.$VideoCover10.bind(this));m.addListener('buffering',this.$VideoCover11.bind(this));m.addListener('buffered',this.$VideoCover12.bind(this));m.addListener('switchVideo',this.$VideoCover13.bind(this));j.listen(this.$VideoCover1,'click',this.$VideoCover14.bind(this));}l.prototype.$VideoCover11=function(){'use strict';if(this.$VideoCover6)i.show(this.$VideoCover1);};l.prototype.$VideoCover12=function(){'use strict';if(this.$VideoCover6)i.hide(this.$VideoCover1);};l.prototype.getCurrentCover=function(){'use strict';return this.$VideoCover2[this.$VideoCover4.getVideoIndex()];};l.prototype.$VideoCover14=function(){'use strict';if(this.$VideoCover3!=null&&this.$VideoCover3.length>0){h.loadModules(["PhotoSnowlift"],(function(m){return m.bootstrap(this.$VideoCover3);}).bind(this));}else this.$VideoCover4.clickVideo();};l.prototype.$VideoCover9=function(){'use strict';i.hide(this.$VideoCover1);};l.prototype.$VideoCover10=function(){'use strict';if(this.$VideoCover5)return;i.show(this.$VideoCover1);};l.prototype.$VideoCover13=function(){'use strict';this.$VideoCover2.forEach(function(m){return i.hide(m);});i.show(this.getCurrentCover());};l.prototype.$VideoCover8=function(){'use strict';if(this.$VideoCover4.isState('fallback')&&this.$VideoCover7)i.show(this.$VideoCover1);};f.exports=l;},null);
__d('EmbeddedVideoFullscreenControl.react',['AbstractVideoFullscreenControl.react','Image.react','React','ReactDOM','cx','fbt','ix','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=j.PropTypes;p=babelHelpers.inherits(s,j.Component);q=p&&p.prototype;s.prototype.shouldComponentUpdate=function(t,u){return o(this,t,u);};s.prototype.onMouseOut=function(t){k.findDOMNode(this.refs.button).blur();};s.prototype.render=function(){var t=this.props.isFullscreen?n('/images/video/player/embedded_controls/icons/fullscreen-exit.png'):n('/images/video/player/embedded_controls/icons/fullscreen-enter.png'),u=j.createElement(i,{className:"_5i0o",src:t}),v=this.props.isFullscreen?m._("Exit Fullscreen"):m._("Enter Fullscreen");return (j.createElement(h,babelHelpers._extends({},this.props,{'aria-label':v,className:"_3u33",image:u,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'})));};function s(){p.apply(this,arguments);}s.propTypes={isFullscreen:r.bool,onToggleFullscreen:r.func,tabIndex:r.string};f.exports=s;},null);
__d('EmbeddedVideoPlaybackControl.react',['AbstractButton.react','Image.react','React','ReactDOM','cx','fbt','ix','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q,r=j.PropTypes;p=babelHelpers.inherits(s,j.Component);q=p&&p.prototype;function s(t){'use strict';q.constructor.call(this,t);this.state={awaitingUpdate:false,isPlayingOverwrite:false};}s.prototype.shouldComponentUpdate=function(t,u){'use strict';return o(this,t,u);};s.prototype.isPlaying=function(){'use strict';if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;};s.prototype.onButtonClick=function(){'use strict';var t=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!t});if(t){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();};s.prototype.componentWillReceiveProps=function(){'use strict';this.setState({awaitingUpdate:false});};s.prototype.onMouseOut=function(t){'use strict';k.findDOMNode(this.refs.button).blur();};s.prototype.render=function(){'use strict';var t=null;if(this.props.finishedPlaying){t=n('/images/video/player/embedded_controls/icons/replay.png');}else t=this.isPlaying()?n('/images/video/player/embedded_controls/icons/pause.png'):n('/images/video/player/embedded_controls/icons/play.png');var u=j.createElement(i,{className:"_5i0o",src:t}),v=this.isPlaying()?m._("Pause"):m._("Play");return j.createElement(h,{'aria-label':v,className:"_3u33",image:u,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});};s.propTypes={finishedPlaying:r.bool,isPlaying:r.bool,onPlay:r.func,onPause:r.func,tabIndex:r.string};f.exports=s;},null);
__d('EmbeddedVideoPlaybackTimer.react',['React','cx','joinClasses','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m,n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;function o(p){'use strict';m.constructor.call(this,p);this.state={displayRemainingTime:true};}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return k(this,p,q);};o.prototype.getClock=function(p){'use strict';var q='';if(isNaN(p)){p=0;}else if(p<0){p*=-1;q='-';}p=Math.ceil(p);var r=Math.floor(p/3600),s=p-r*3600,t=Math.floor(s/60),u=Math.ceil(s-t*60),v=('0'+t).slice(-2),w=('0'+u).slice(-2);if(r===0){return q+t+':'+w;}else return q+r+':'+v+':'+w;};o.prototype.onButtonClick=function(){'use strict';this.setState({displayRemainingTime:!this.state.displayRemainingTime});};o.prototype.render=function(){'use strict';var p=this.state.displayRemainingTime?this.props.remainingTimestamp:this.props.playbackPosTimestamp,q="_4irg";if(this.props.isInScrubberPreview)q="_5lde";return (h.createElement('div',babelHelpers._extends({},this.props,{className:j(this.props.className,q),onClick:this.onButtonClick.bind(this)}),this.getClock(p)));};o.propTypes={isInScrubberPreview:n.bool,playbackPosTimestamp:n.number,remainingTimestamp:n.number};o.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0};f.exports=o;},null);
__d('VideoScrubberPreviewSpriteCalculation',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getImageCoordinatesInSpriteByTime:function(i,j){var k=this.getTotalTimeInSprite(j.maxImagesPerSprite,j.timeIntervalBetweenImages),l=Math.floor(i%k/j.timeIntervalBetweenImages),m=Math.floor(l/j.imagesPerRow),n=l%j.imagesPerRow;return {x:n*j.previewScrubberWidth,y:m*j.previewScrubberHeight};},getSpriteIndex:function(i,j,k){var l=this.getTotalTimeInSprite(j,k);return Math.floor(i/l)+1;},getTotalTimeInSprite:function(i,j){return i*j;}};f.exports=h;},null);
__d('EmbeddedVideoScrubber.react',['EventListener','Keys','Map','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','VideoScrubberPreviewSpriteCalculation','cx','fbt','getElementPosition','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u=l.PropTypes;s=babelHelpers.inherits(v,l.Component);t=s&&s.prototype;function v(w){'use strict';t.constructor.call(this,w);this.$EmbeddedVideoScrubber1=new j();this.$EmbeddedVideoScrubber1.set(0,'');this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0},lastSpriteDimension:{numRow:0,numColumn:0}};}v.prototype.shouldComponentUpdate=function(w,x){'use strict';return r(this,w,x);};v.prototype.onDragNubBegin=function(w){'use strict';if(w.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(w.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();w.stopPropagation();w.preventDefault();};v.prototype.componentWillReceiveProps=function(){'use strict';this.setState({awaitingUpdate:false});};v.prototype.componentDidUpdate=function(w,x){'use strict';if(!x.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber2=h.listen(document,'mousemove',(function(y){this.onDragNubUpdate(y);this.onTimecodeUpdate(y);}).bind(this));this.$EmbeddedVideoScrubber3=h.listen(document,'mouseup',this.onDragNubRelease.bind(this));}else if(x.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove();}if(!x.mouseOver&&this.state.mouseOver){this.$EmbeddedVideoScrubber4=h.listen(document,'mousemove',this.onTimecodeUpdate.bind(this));}else if(x.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber4)this.$EmbeddedVideoScrubber4.remove();};v.prototype.onTimecodeUpdate=function(w){'use strict';var x=this.props.playbackDuration;if(!x)return;var y=this.getPositionRatio(w.clientX,this.state.barCoords)*x,z=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:q(m.findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=z;if(!this.props.hasScrubberPreview){var aa=this.getPositionRatio(w.clientX,this.state.barCoords)-Math.ceil(z.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:y,timecodeRatio:aa});}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();m.unstable_batchedUpdates((function(){return (this.props.scrubberPreviewSprites&&this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,y,z,w.clientX));}).bind(this));}w.preventDefault();w.stopPropagation();};v.prototype.updatePreviewThumbnail=function(w,x,y,z){'use strict';this.setState({timecodeTimestamp:x});var aa=Math.floor(x),ba=this.$EmbeddedVideoScrubber1;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber1=w;if(this.state.previewThumbnailInformation){var ca=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(aa,ca,ba);}this.updatePreviewThumbnailLocation(y,z);};v.prototype.updatePreviewThumbnailLocation=function(w,x){'use strict';var y=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:this.$EmbeddedVideoScrubber6=q(m.findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber6=y;var z=this.getPositionRatio(x,this.state.barCoords)-Math.ceil(y.width/2)/this.state.barCoords.width,aa=(y.width-w.width)/(2*y.width);this.setState({timecodeRatio:aa,previewRatio:z});};v.prototype.updatePreviewThumbnailImage=function(w,x,y){'use strict';var z=this,aa=n.getImageCoordinatesInSpriteByTime(w,x),ba=n.getSpriteIndex(w,x.maxImagesPerSprite,x.timeIntervalBetweenImages);if(ba==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber1)(function(){var ca=z.$EmbeddedVideoScrubber1.get(ba),da=new Image(),ea=z.onLastImageLoad.bind(z);da.onload=function(){ea(this.width,this.height);};da.src=ca;})();this.setState({scrubberPreviewSpriteIndex:ba,scrubberPreviewBackgroundPosition:aa});};v.prototype.onLastImageLoad=function(w,x){'use strict';this.setState({lastSpriteDimension:{numRow:x/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:w/this.state.previewThumbnailInformation.previewScrubberWidth}});};v.prototype.retrievePreviewThumbnailInfo=function(){'use strict';this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation});};v.prototype.isSpriteMapURIFetched=function(){'use strict';if(this.$EmbeddedVideoScrubber1){return this.$EmbeddedVideoScrubber1.size>1;}else return false;};v.prototype.onPreviewThumbnailUpdate=function(w,x,y){'use strict';if(y){y.set(0,'');this.$EmbeddedVideoScrubber1=y;}this.setState({scrubberPreviewSpriteIndex:w,scrubberPreviewBackgroundPosition:x});};v.prototype.getPositionRatio=function(w,x){'use strict';var y=w-x.x,z=y/x.width;return Math.min(Math.max(0,z),1);};v.prototype.onDragNubUpdate=function(w){'use strict';this.setState({scrubRatio:this.getPositionRatio(w.clientX,this.state.barCoords)});};v.prototype.onDragNubRelease=function(w){'use strict';var x=this.props.playbackDuration;if(!x)return;var y=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*x);y=true;}this.setState({nubEngaged:false,awaitingUpdate:y});w.preventDefault();w.stopPropagation();};v.prototype.getPlayedRatio=function(){'use strict';var w=this.props.playbackDuration,x=this.props.playbackPosition;if(!w||!x)return 0;if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;var y=x/w;return this.getRangeLimitedRatio(y);};v.prototype.getBufferedRatio=function(){'use strict';var w=this.props.playbackDuration,x=this.props.bufferedPosition;if(!w||!x)return 0;var y=x/w;return this.getRangeLimitedRatio(y);};v.prototype.getRangeLimitedRatio=function(w){'use strict';if(isNaN(w)||w<0||w>1)return 0;return w;};v.prototype.getNumberOfSprites=function(){'use strict';if(this.$EmbeddedVideoScrubber1)return this.$EmbeddedVideoScrubber1.size;return 0;};v.prototype.onMouseEnter=function(w){'use strict';var x=q(m.findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:x});};v.prototype.onMouseLeave=function(w){'use strict';m.findDOMNode(this.refs.bar).blur();m.unstable_batchedUpdates((function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}});}).bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;};v.prototype.onMouseEnterOnThumbnailOrTimecode=function(w){'use strict';if(this.state.nubEngaged)return;var x=undefined;if(this.props.hasScrubberPreview){x=this.refs.previewThumbnailContainer;}else x=this.refs.timecode;var y=m.findDOMNode(x);y.style.visibility='hidden';};v.prototype.onMouseLeaveOnThumbnailOrTimecode=function(w){'use strict';if(this.state.nubEngaged)return;var x=undefined;if(this.props.hasScrubberPreview){x=this.refs.previewThumbnailContainer;}else x=this.refs.timecode;var y=m.findDOMNode(x);y.style.visibility='visible';};v.prototype.onKeyDown=function(w){'use strict';var x=this.props.playbackDuration,y=this.props.playbackPosition;if(!x||!y)return;var z=y;if(w.keyCode===i.RIGHT){w.preventDefault();w.stopPropagation();z+=5;if(z>=x)z=x-.01;}else if(w.keyCode===i.LEFT){w.preventDefault();w.stopPropagation();z-=5;if(z<0)z=0;}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(z);};v.prototype.render=function(){'use strict';var w="_gn0"+(this.state.nubEngaged?' '+"_gn1":''),x=(this.props.hasScrubberPreview?"_24wr":'')+(!this.props.hasScrubberPreview?' '+"_4irh":''),y={width:this.getPlayedRatio()*100+'%'},z={width:this.getBufferedRatio()*100+'%'},aa={left:this.state.timecodeRatio*100+'%'},ba={},ca={},da=null,ea=null;if(this.state.mouseOver||this.state.nubEngaged){ea=l.createElement(k,{className:x,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:'timecode',remainingTimestamp:this.state.timecodeTimestamp,style:aa});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation&&this.$EmbeddedVideoScrubber1){var fa='';if(this.state.scrubberPreviewSpriteIndex)fa='url('+this.$EmbeddedVideoScrubber1.get(this.state.scrubberPreviewSpriteIndex)+')';var ga=undefined;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){ga=100*this.state.previewThumbnailInformation.imagesPerRow+'% '+100*this.state.previewThumbnailInformation.imagesPerColumn+'%';}else if(this.state.lastSpriteDimension.numRow){ga=100*this.state.lastSpriteDimension.numColumn+'%'+100*this.state.lastSpriteDimension.numRow+'%';}else fa='';var ha=1;if(this.props.isFullscreen)ha=2;ba={width:this.state.previewThumbnailInformation.previewScrubberWidth*ha+'px',height:this.state.previewThumbnailInformation.previewScrubberHeight*ha+'px',backgroundImage:fa,backgroundPosition:'-'+this.state.scrubberPreviewBackgroundPosition.x*ha+'px '+'-'+this.state.scrubberPreviewBackgroundPosition.y*ha+'px',backgroundSize:ga};ca={left:this.state.previewRatio*100+'%'};da=l.createElement('div',{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:'previewThumbnailContainer',style:ca},l.createElement('div',{className:"_24wt",ref:'previewThumbnail',style:ba}),ea);}}return (l.createElement('div',{onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onKeyDown:this.onKeyDown.bind(this),className:w},l.createElement('div',{tabIndex:this.props.tabIndex,'aria-label':p._("Change Position"),className:"_gn2",ref:'bar'},l.createElement('div',{className:"_gn3",style:z}),l.createElement('div',{style:y,className:"_gn4"},l.createElement('div',{className:"_gn5 _5ixx"})),this.props.hasScrubberPreview?da:ea)));};v.propTypes={bufferedPosition:u.number.isRequired,hasScrubberPreview:u.bool,isFullscreen:u.bool,onScrubBegin:u.func.isRequired,onScrubEnd:u.func.isRequired,playbackDuration:u.number.isRequired,playbackPosition:u.number.isRequired,previewThumbnailInformation:u.object,scrubberPreviewSprites:u.object,tabIndex:u.string.isRequired};v.defaultProps={hasScrubberPreview:false};f.exports=v;},null);
__d('EmbeddedVideoVolumeSlider.react',['EventListener','React','ReactDOM','cx','getElementPosition','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p=i.PropTypes;n=babelHelpers.inherits(q,i.Component);o=n&&n.prototype;function q(r){'use strict';o.constructor.call(this,r);this.state={awaitingUpdate:false,engaged:false,volume:r.volume};}q.prototype.shouldComponentUpdate=function(r,s){'use strict';return m(this,r,s);};q.prototype.componentWillReceiveProps=function(r){'use strict';this.setState({awaitingUpdate:false});};q.prototype.componentDidUpdate=function(r,s){'use strict';if(!this.state.engaged&&s.engaged){if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();}else if(this.state.engaged&&!s.engaged){this.$EmbeddedVideoVolumeSlider2=h.listen(document,'mousemove',this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider1=h.listen(document,'mouseup',this.onMouseUp.bind(this));}};q.prototype.onMouseDown=function(r){'use strict';if(r.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);this.setState({engaged:true,volume:this.getClampedClickPositionVolume(r.clientY)});r.preventDefault();r.stopPropagation();};q.prototype.getClampedClickPositionVolume=function(r){'use strict';var s=l(j.findDOMNode(this.refs.slider)),t=l(j.findDOMNode(this.refs.nub)).height,u=s.y-r+s.height+t/2;return Math.max(0,Math.min(1,u/s.height));};q.prototype.onMouseUp=function(r){'use strict';this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});r.preventDefault();r.stopPropagation();};q.prototype.onMouseMove=function(r){'use strict';this.setState({volume:this.getClampedClickPositionVolume(r.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);r.preventDefault();r.stopPropagation();};q.prototype.getVolume=function(){'use strict';if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;};q.prototype.render=function(){'use strict';var r={height:Math.round(this.getVolume()*100)+'%'},s="_2-ml"+(this.state.engaged?' '+"_gn1":'');return i.createElement('div',{className:s,onMouseDown:this.onMouseDown.bind(this)},i.createElement('div',{className:"_3ghu"},i.createElement('div',{className:"_2-mm",ref:'slider'},i.createElement('div',{className:"_2-mn",style:r},i.createElement('div',{className:"_2-mo _5ixx",ref:'nub'})))),i.createElement('div',{className:"_2-mp"}));};q.propTypes={volume:p.number,onVolumeChangeBegin:p.func,onVolumeChangeEnd:p.func,onVolumeChange:p.func};q.defaultProps={volume:0,onVolumeChange:function(r){},onVolumeChangeBegin:function(r){},onVolumeChangeEnd:function(r){}};f.exports=q;},null);
__d('EmbeddedVideoVolumeControl.react',['AbstractButton.react','Image.react','Keys','React','ReactDOM','VideoPlayerExperiments','EmbeddedVideoVolumeSlider.react','cx','fbt','invariant','ix','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u,v=k.PropTypes;t=babelHelpers.inherits(w,k.Component);u=t&&t.prototype;function w(x){'use strict';u.constructor.call(this,x);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1};}w.prototype.shouldComponentUpdate=function(x,y){'use strict';return s(this,x,y);};w.prototype.onButtonClick=function(){'use strict';this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted();};w.prototype.onButtonFocus=function(){'use strict';this.setState({focused:true});};w.prototype.onButtonBlur=function(){'use strict';this.setState({focused:false});};w.prototype.onKeyDown=function(x){'use strict';var y=this.props.volume;if(x.keyCode===j.UP){x.preventDefault();x.stopPropagation();y+=.05;if(y>1)y=1;}else if(x.keyCode===j.DOWN){x.preventDefault();x.stopPropagation();y-=.05;if(y<0)y=0;}else return;this.onSliderVolumeChangeEnd(y);};w.prototype.onMouseOut=function(x){'use strict';l.findDOMNode(this.refs.button).blur();};w.prototype.getVolume=function(){'use strict';if(this.props.isMuted)return 0;return this.props.volume;};w.prototype.onSliderVolumeChangeBegin=function(){'use strict';var x=this.props.volume;if(x>0)this.setState({nubEngaged:true,lastVolumeBeforeMute:x});};w.prototype.onSliderVolumeChangeEnd=function(x){'use strict';if(x>0)this.setState({lastVolumeBeforeMute:x});this.onSliderVolumeChange(x);this.setState({nubEngaged:false});};w.prototype.onSliderVolumeChange=function(x){'use strict';if(x>0&&this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(x);};w.prototype.checkLastVolumeBeforeMuteInvariant=function(){'use strict';!(this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1)?q(0):undefined;};w.prototype.render=function(){'use strict';var x=Math.round(this.getVolume()*100),y=null;if(x==0){y=k.createElement(i,{className:"_5i0o",src:r('/images/video/player/embedded_controls/icons/muted.png')});}else{var z=null;if(x<=33){z=r('/images/video/player_redesign/sound_1_bar.png');}else if(x<=66){z=r('/images/video/player_redesign/sound_2_bar.png');}else z=r('/images/video/player_redesign/sound.png');y=k.createElement('div',{className:"_44_"},k.createElement('div',{className:"_454"},k.createElement(i,{className:"_5i0o",src:z})));}var aa="_3s02"+(this.state.nubEngaged?' '+"_gn1":'')+(this.state.focused?' '+"_4v4":''),ba="_3u33"+(' '+"_3s03")+(!this.getVolume()&&!m.redesign?' '+"_17bp":''),ca=!this.getVolume()?p._("Unmute"):p._("Mute");return k.createElement('div',{className:aa},k.createElement(n,{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),volume:this.getVolume()}),k.createElement(h,{'aria-label':ca,className:ba,image:y,onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onBlur:this.onButtonBlur.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}));};w.propTypes={isMuted:v.bool,onVolumeChange:v.func,onToggleMuted:v.func,tabIndex:v.string,volume:v.number};f.exports=w;},null);
__d('EmbeddedVideoControls.react',['BootloadedComponent.react','AbstractButton.react','EmbeddedVideoFullscreenControl.react','Image.react','JSResource','EmbeddedVideoPlaybackControl.react','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','EmbeddedVideoScrubber.react','EmbeddedVideoVolumeControl.react','VideoPlayerExperiments','cx','fbt','ix','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y,z=o.PropTypes;x=babelHelpers.inherits(aa,o.Component);y=x&&x.prototype;function aa(ba){'use strict';y.constructor.call(this,ba);}aa.prototype.shouldComponentUpdate=function(ba,ca){'use strict';return w(this,ba,ca);};aa.prototype.isHidden=function(){'use strict';return this.props.hidden;};aa.prototype.isTransparent=function(){'use strict';return this.props.transparent;};aa.prototype.onMouseOut=function(ba){'use strict';p.findDOMNode(this.refs.button).blur();};aa.prototype.render=function(){'use strict';var ba=(!s.redesign?"_17l4":'')+(' '+"_2mbh")+(this.isHidden()?' '+"_2mbi":'')+(this.isTransparent()?' '+"_5744":''),ca=(s.redesign&&s.noanim?"_fwi":'')+(s.redesign&&s.noshadow?' '+"_fwj":'')+(s.redesign?' '+"_i5q":''),da="_2mbj _2mbk",ea="_2mbj _yaw",fa="_2mbj _2mbl",ga="_5rbl",ha="_4lqt _4ubd",ia=null;if(!this.props.isLive){var ja=this.props.playbackPosition-this.props.playbackDuration;ia=o.createElement(n,{className:"_25e2",playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:Math.round(ja)});}var ka=null,la=null,ma=null,na=null;if(!this.props.isLive){if(!this.props.hideSettings)if(s.redesign){ma=o.createElement(h,{bootloadLoader:l('EmbeddedVideoSettingsControl.react'),bootloadPlaceholder:o.createElement('span',null),hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles});}else{if(this.props.hasHD)ka=o.createElement(h,{bootloadLoader:l('EmbeddedVideoQualityControl.react'),bootloadPlaceholder:o.createElement('span',null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:'0'});if(this.props.hasSubtitles)la=o.createElement(h,{bootloadPlaceholder:o.createElement('span',null),bootloadLoader:l('EmbeddedVideoClosedCaptionsControl.react'),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:'0'});}}else if(s.hlsButton)na=o.createElement(h,{bootloadPlaceholder:o.createElement('span',null),bootloadLoader:l('EmbeddedVideoToHLSControl.react'),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:'0'});var oa=null;if(this.props.allowFullscreen)oa=o.createElement(j,{isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:'0'});var pa=null;if(this.props.hasWatchAndScroll&&!this.props.isFullscreen)pa=o.createElement(h,{bootloadPlaceholder:o.createElement('span',null),bootloadLoader:l('EmbeddedVideoWatchAndScrollControl.react'),onEnterWatchAndScroll:this.props.onEnterWatchAndScroll});var qa=null;if(this.props.allowChromecast&&this.props.hasCastReceiver)qa=o.createElement(h,{bootloadPlaceholder:o.createElement('span',null),bootloadLoader:l('EmbeddedVideoChromeCastControl.react'),onCast:this.props.onCast,isCasting:this.props.isCasting});var ra=null,sa=null;if(this.props.permalinkURL){sa=o.createElement(k,{className:"_5fp_",src:v('/images/video/player/embedded_controls/icons/fb-logo.png')});ra=o.createElement(i,{'aria-label':u._("Open in a new tab"),className:"_3u33",href:this.props.permalinkURL,image:sa,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:'0',target:'_blank',type:'button'});}var ta=null,ua=null;if(!this.props.isLive){ua=o.createElement(m,{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:'0'});ta=o.createElement(q,{bufferedPosition:this.props.bufferedPosition,hasScrubberPreview:this.props.hasScrubberPreview,isFullscreen:this.props.isFullscreen,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,tabIndex:'0'});}var va=null;if(s.redesign)va=o.createElement('div',{className:"_4lqu"+(this.isTransparent()?' '+"_5744":'')});return (o.createElement('div',{className:ca},va,o.createElement('div',{className:ha},o.createElement('div',{className:ga},o.createElement('div',{className:ba},o.createElement('div',{className:da},ua),o.createElement('div',{className:ea},ta),o.createElement('div',{className:fa},ia,o.createElement(r,{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:'0'}),la,na,ka,ma,pa,qa,oa,ra))))));};aa.propTypes={allowFullscreen:z.bool,finishedPlaying:z.bool,hasHD:z.bool,hasSubtitles:z.bool,hasWatchAndScroll:z.bool,hidden:z.bool,isFullscreen:z.bool,isHD:z.bool,isLive:z.bool,isMuted:z.bool,isPlaying:z.bool,areSubtitlesActive:z.bool,areHLSActive:z.bool,onEnterWatchAndScroll:z.func,onPause:z.func,onPlay:z.func,onSeek:z.func,onToggleFullscreen:z.func,onToggleHD:z.func,onToggleHLS:z.func,onToggleMuted:z.func,onToggleSubtitles:z.func,onVolumeChange:z.func,permalinkURL:z.string,playbackDuration:z.number,playbackPosition:z.number,transparent:z.bool,volume:z.number,scrubberPreviewSprites:z.object,hasScrubberPreview:z.bool,previewThumbnailInformation:z.object};aa.defaultProps={allowChromecast:false,bufferedPosition:0,hasCastReceiver:false,hidden:false,isCasting:false,isMuted:false,isPlaying:false,onCast:function(){},playbackDuration:0,playbackPosition:0,transparent:false,volume:0};f.exports=aa;},null);
__d('EmbeddedVideoControls',['DeferredComponent.react','EventListener','FullScreen','Map','React','ReactDOM','VideoPlayerExperiments','VideoPlayerReason','cancelAnimationFrame','containsNode','destroyOnUnload','getActiveElement','logVideosClickTracking','requestAnimationFrame','throttle','VideoChannelViewGatings'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();function x(y,z,aa){'use strict';this.$EmbeddedVideoControls1=y;this.$EmbeddedVideoControls2=z;this.$EmbeddedVideoControls3=0;this.$EmbeddedVideoControls4=0;this.$EmbeddedVideoControls5=0;this.$EmbeddedVideoControls6=0;this.$EmbeddedVideoControls7=false;this.$EmbeddedVideoControls8=aa.hideOnEvents.autoplay;this.$EmbeddedVideoControls9=aa.hideOnEvents.finish;this.$EmbeddedVideoControls10=aa.hideOnEvents.pause;this.$EmbeddedVideoControls11=aa.hideSettings;this.$EmbeddedVideoControls12=aa.showButtons.watchandscroll;this.$EmbeddedVideoControls13=aa.showButtons.chromecast;this.$EmbeddedVideoControls14=aa.showButtons.fullscreen&&!!j.isSupported();this.$EmbeddedVideoControls15=aa.permalinkURL;this.$EmbeddedVideoControls16=aa.isLive;this.$EmbeddedVideoControls17=false;this.$EmbeddedVideoControls18=n.redesign;this.$EmbeddedVideoControls19=false;this.$EmbeddedVideoControls20=this.cast.bind(this);this.$EmbeddedVideoControls21=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls22=this.hasCastReceiver.bind(this);this.$EmbeddedVideoControls23=this.play.bind(this);this.$EmbeddedVideoControls24=this.pause.bind(this);this.$EmbeddedVideoControls25=this.scrubBegin.bind(this);this.$EmbeddedVideoControls26=this.scrubEnd.bind(this);this.$EmbeddedVideoControls27=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls28=this.toggleHD.bind(this);this.$EmbeddedVideoControls29=this.toggleHLS.bind(this);this.$EmbeddedVideoControls30=this.toggleMuted.bind(this);this.$EmbeddedVideoControls31=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls32=this.changeVolume.bind(this);r(function(){return m.unmountComponentAtNode(z);});var ba=this.$EmbeddedVideoControls1.getRootNode();i.listen(this.$EmbeddedVideoControls2,'focusin',(function(){this.$EmbeddedVideoControls33=true;this.scheduleRenderReactComponent();}).bind(this));i.listen(this.$EmbeddedVideoControls2,'focusout',(function(){if(!q(this.$EmbeddedVideoControls2,s())){this.$EmbeddedVideoControls33=false;this.scheduleRenderReactComponent();}}).bind(this));i.listen(ba,'click',(function(da){if(this.$EmbeddedVideoControls33&&da.detail)s().blur();}).bind(this));i.listen(ba,'mouseleave',(function(){this.$EmbeddedVideoControls34=false;this.scheduleRenderReactComponent();}).bind(this));i.listen(ba,'mouseenter',(function(){this.$EmbeddedVideoControls34=true;this.scheduleRenderReactComponent();}).bind(this));this.$EmbeddedVideoControls1.registerOption('VideoControls','acquireForceHideLock',(function(){this.$EmbeddedVideoControls6++;return {release:(function(){this.$EmbeddedVideoControls6--;this.scheduleRenderReactComponent();}).bind(this)};}).bind(this));this.$EmbeddedVideoControls1.registerOption('VideoControls','hideOnFinish',(function(){return this.$EmbeddedVideoControls9;}).bind(this),(function(da){return this.$EmbeddedVideoControls9=da;}).bind(this));this.$EmbeddedVideoControls1.registerOption('VideoControls','hideOnPause',(function(){return this.$EmbeddedVideoControls10;}).bind(this),(function(da){return this.$EmbeddedVideoControls10=da;}).bind(this));this.$EmbeddedVideoControls1.registerOption('VideoControls','available',function(){return true;});this.$EmbeddedVideoControls1.registerOption('VideoControls','areControlsVisible',this.areControlsVisible.bind(this));i.listen(this.$EmbeddedVideoControls1.getRootNode(),'mousemove',v(this.flashControls.bind(this),200));this.scheduleRenderReactComponent();var ca=['changeVolume','loadedSubtitles','muteVideo','pausePlayback','stateChange','toggleFullscreen','toggleSubtitles','updateMetadata','unmuteVideo','qualityChange','chromecast/receiverStateChange'];ca.forEach((function(event){return this.$EmbeddedVideoControls1.addListener(event,(function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate();}).bind(this));}).bind(this));this.$EmbeddedVideoControls1.addListener('beginPlayback',(function(){return this.$EmbeddedVideoControls35();}).bind(this));this.$EmbeddedVideoControls1.addListener('updateStatus',(function(da){this.$EmbeddedVideoControls4=da.position;this.scheduleRenderReactComponent();}).bind(this));this.$EmbeddedVideoControls1.addListener('updateBuffer',(function(da){this.$EmbeddedVideoControls3=da.duration+da.offset;this.scheduleRenderReactComponent();}).bind(this));this.$EmbeddedVideoControls1.addListener('optionsChange',(function(da){this.$EmbeddedVideoControls36();}).bind(this));this.$EmbeddedVideoControls1.addListener('resumeAutoplay',(function(da){this.$EmbeddedVideoControls37();this.scheduleRenderReactComponentWithVideoInfoUpdate();}).bind(this));this.$EmbeddedVideoControls1.addListener('turnOffAutoplay',(function(da){this.$EmbeddedVideoControls38=false;}).bind(this));this.$EmbeddedVideoControls37();this.$EmbeddedVideoControls39();}x.prototype.$EmbeddedVideoControls40=function(){'use strict';return this.$EmbeddedVideoControls1.isState('playing')&&this.$EmbeddedVideoControls1.getOption('FeedAutoplay','isAutoplaying');};x.prototype.$EmbeddedVideoControls39=function(){'use strict';this.$EmbeddedVideoControls41=this.$EmbeddedVideoControls1.getOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$EmbeddedVideoControls42=this.$EmbeddedVideoControls1.getOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$EmbeddedVideoControls43=this.$EmbeddedVideoControls1.getOption('VideoScrubberPreviewComponent','previewThumbnailInformation');};x.prototype.$EmbeddedVideoControls37=function(){'use strict';this.$EmbeddedVideoControls38=this.$EmbeddedVideoControls1.getOption('FeedAutoplay','isAutoplaying');};x.prototype.$EmbeddedVideoControls36=function(){'use strict';this.$EmbeddedVideoControls37();this.$EmbeddedVideoControls39();};x.prototype.$EmbeddedVideoControls35=function(){'use strict';this.flashControls();this.$EmbeddedVideoControls44=true;this.scheduleRenderReactComponentWithVideoInfoUpdate();};x.prototype.flashControls=function(){'use strict';if(!this.$EmbeddedVideoControls45){this.$EmbeddedVideoControls45=true;this.scheduleRenderReactComponent();}clearTimeout(this.$EmbeddedVideoControls46);this.$EmbeddedVideoControls46=setTimeout((function(){this.$EmbeddedVideoControls45=false;this.scheduleRenderReactComponent();}).bind(this),3000);};x.prototype.areControlsVisible=function(){'use strict';if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls1.isState('playing')){if(this.$EmbeddedVideoControls8&&this.$EmbeddedVideoControls38)return false;return this.$EmbeddedVideoControls33||this.$EmbeddedVideoControls34&&this.$EmbeddedVideoControls45;}else if(this.$EmbeddedVideoControls1.isState('finished')){return this.$EmbeddedVideoControls1.isFullscreen()||!this.$EmbeddedVideoControls9;}else if(this.$EmbeddedVideoControls1.isState('paused'))return this.$EmbeddedVideoControls1.isFullscreen()||!this.$EmbeddedVideoControls10;return false;};x.prototype.areControlsEnabled=function(){'use strict';if(this.$EmbeddedVideoControls6>0||this.$EmbeddedVideoControls1.isState('loading')||this.$EmbeddedVideoControls1.isState('fallback'))return false;return true;};x.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){'use strict';this.$EmbeddedVideoControls47=true;this.scheduleRenderReactComponent();};x.prototype.shouldRenderComponent=function(){'use strict';if(this.$EmbeddedVideoControls1.isState('loading')||this.$EmbeddedVideoControls1.isState('fallback'))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls19=false;return true;}if(!this.$EmbeddedVideoControls19){this.$EmbeddedVideoControls19=true;return true;}return false;};x.prototype.scheduleRenderReactComponent=function(){'use strict';if(!this.shouldRenderComponent())return;p(this.$EmbeddedVideoControls48);this.$EmbeddedVideoControls48=u(this.renderReactComponent.bind(this));};x.prototype.renderReactComponent=function(){'use strict';if(this.$EmbeddedVideoControls47)this.$EmbeddedVideoControls49();var y=this.areControlsVisible();if(this.$EmbeddedVideoControls7!==y){this.$EmbeddedVideoControls1.emit('VideoControls/visibilityUpdate',{areControlsVisible:y});if(this.$EmbeddedVideoControls50){var z=!this.$EmbeddedVideoControls1.isPlayerVersion('silvercity')&&!this.$EmbeddedVideoControls1.getIsInChannel()&&this.$EmbeddedVideoControls1.isState('playing'),aa=w.channelViewWithInlineControls,ba=1;if(y)if(z&&aa&&!this.$EmbeddedVideoControls51){ba=-3;}else ba=-2;this.$EmbeddedVideoControls1.shiftSubtitles(ba);}}this.$EmbeddedVideoControls7=y;m.render(l.createElement(h,{deferredPlaceholder:l.createElement('span',null),deferredComponent:function(ca){return e(['EmbeddedVideoControls.react'],ca);},allowChromeCast:this.$EmbeddedVideoControls13,allowFullscreen:this.$EmbeddedVideoControls14,areSubtitlesActive:this.$EmbeddedVideoControls50,areHLSActive:this.$EmbeddedVideoControls52,bufferedPosition:this.$EmbeddedVideoControls3,finishedPlaying:this.$EmbeddedVideoControls1.isState('finished'),hasHD:this.$EmbeddedVideoControls53,hasSubtitles:this.$EmbeddedVideoControls54,hasWatchAndScroll:this.$EmbeddedVideoControls12&&!this.$EmbeddedVideoControls1.getIsInChannel(),hasCastReceiver:this.$EmbeddedVideoControls22,hidden:!this.areControlsEnabled(),isCasting:this.$EmbeddedVideoControls17,isFullscreen:this.$EmbeddedVideoControls51,isHD:this.$EmbeddedVideoControls55,isLive:this.$EmbeddedVideoControls16,isMuted:this.$EmbeddedVideoControls56,isPlaying:this.$EmbeddedVideoControls44,onCast:this.$EmbeddedVideoControls20,onEnterWatchAndScroll:this.$EmbeddedVideoControls21,onPause:this.$EmbeddedVideoControls24,onPlay:this.$EmbeddedVideoControls23,onScrubBegin:this.$EmbeddedVideoControls25,onScrubEnd:this.$EmbeddedVideoControls26,onToggleFullscreen:this.$EmbeddedVideoControls27,onToggleHD:this.$EmbeddedVideoControls28,onToggleHLS:this.$EmbeddedVideoControls29,onToggleMuted:this.$EmbeddedVideoControls30,onToggleSubtitles:this.$EmbeddedVideoControls31,onVolumeChange:this.$EmbeddedVideoControls32,permalinkURL:this.$EmbeddedVideoControls15,playbackDuration:this.$EmbeddedVideoControls5,playbackPosition:this.$EmbeddedVideoControls4,transparent:!y,redesign:this.$EmbeddedVideoControls18,hideSettings:this.$EmbeddedVideoControls11,volume:this.$EmbeddedVideoControls57,scrubberPreviewSprites:this.$EmbeddedVideoControls41,hasScrubberPreview:this.$EmbeddedVideoControls42,previewThumbnailInformation:this.$EmbeddedVideoControls43}),this.$EmbeddedVideoControls2);};x.prototype.$EmbeddedVideoControls49=function(){'use strict';var y=this.$EmbeddedVideoControls1.getVideoInfo();if(y){this.$EmbeddedVideoControls50=y.areSubtitlesActive;this.$EmbeddedVideoControls54=y.hasSubtitles;this.$EmbeddedVideoControls53=y.hasHD;this.$EmbeddedVideoControls55=y.isHD;this.$EmbeddedVideoControls56=y.isMuted;this.$EmbeddedVideoControls44=y.isPlaying;this.$EmbeddedVideoControls5=y.playbackDuration;this.$EmbeddedVideoControls57=y.volume;this.$EmbeddedVideoControls51=this.$EmbeddedVideoControls1.isFullscreen();this.$EmbeddedVideoControls16=y.isLiveStream;this.$EmbeddedVideoControls52=y.areHLSActive;this.$EmbeddedVideoControls47=false;}this.$EmbeddedVideoControls17=this.$EmbeddedVideoControls1.getOption('chromecast','isCasting');};x.prototype.toggleHD=function(){'use strict';this.$EmbeddedVideoControls1.toggleHD();};x.prototype.toggleHLS=function(){'use strict';this.$EmbeddedVideoControls1.switchToStreamType('hls');};x.prototype.enterWatchAndScroll=function(){'use strict';this.$EmbeddedVideoControls1.emit('enterWatchAndScroll');};x.prototype.scrubBegin=function(){'use strict';this.$EmbeddedVideoControls1.pause(o.SEEK);};x.prototype.scrubEnd=function(y){'use strict';this.$EmbeddedVideoControls1.seek(y);this.$EmbeddedVideoControls4=y;this.$EmbeddedVideoControls1.play(o.SEEK);};x.prototype.toggleMuted=function(){'use strict';if(this.$EmbeddedVideoControls1.isMuted()){t(this.$EmbeddedVideoControls1.getVideoNode());this.$EmbeddedVideoControls1.unmute();}else this.$EmbeddedVideoControls1.mute();};x.prototype.toggleFullscreen=function(){'use strict';if(!this.$EmbeddedVideoControls1.isFullscreen())t(this.$EmbeddedVideoControls1.getVideoNode());this.$EmbeddedVideoControls1.toggleFullscreen();};x.prototype.toggleSubtitles=function(){'use strict';this.$EmbeddedVideoControls1.toggleSubtitles();this.scheduleRenderReactComponent();};x.prototype.changeVolume=function(y){'use strict';this.$EmbeddedVideoControls1.setVolume(y);};x.prototype.play=function(){'use strict';t(this.$EmbeddedVideoControls1.getVideoNode());this.$EmbeddedVideoControls1.play(o.USER);};x.prototype.pause=function(){'use strict';this.$EmbeddedVideoControls1.pause(o.USER);};x.prototype.cast=function(){'use strict';this.$EmbeddedVideoControls1.setOption('chromecast','isCasting',true);};x.prototype.hasCastReceiver=function(){'use strict';return this.$EmbeddedVideoControls1.getOption('chromecast','available');};f.exports=x;},null);
__d('VideoErrorOverlay',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k,l){if('textContent' in k)k.textContent=l;k.innerText=l;}function i(k){if('textContent' in k)return k.textContent;if(!k.innerText)return '';return k.innerText;}function j(k,l,m,n){'use strict';this.$VideoErrorOverlay1=l;this.$VideoErrorOverlay2=m;this.$VideoErrorOverlay3=n;k.registerOption('VideoErrorOverlay','title',(function(){return this.getTitle();}).bind(this),(function(o){return this.setTitle(o);}).bind(this));k.registerOption('VideoErrorOverlay','message',(function(){return this.getMessage();}).bind(this),(function(o){return this.setMessage(o);}).bind(this));k.registerOption('VideoErrorOverlay','linkURL',(function(){return this.getLinkURL();}).bind(this),(function(o){return this.setLinkURL(o);}).bind(this));k.registerOption('VideoErrorOverlay','linkTitle',(function(){return this.getLinkTitle();}).bind(this),(function(o){return this.setLinkTitle(o);}).bind(this));k.registerOption('VideoErrorOverlay','available',function(){return true;});}j.prototype.getTitle=function(){'use strict';return i(this.$VideoErrorOverlay1);};j.prototype.setTitle=function(k){'use strict';h(this.$VideoErrorOverlay1,k);};j.prototype.getMessage=function(){'use strict';return i(this.$VideoErrorOverlay2);};j.prototype.setMessage=function(k){'use strict';h(this.$VideoErrorOverlay2,k);};j.prototype.getLinkURL=function(){'use strict';return this.$VideoErrorOverlay3.href;};j.prototype.setLinkURL=function(k){'use strict';this.$VideoErrorOverlay3.href=k;};j.prototype.getLinkTitle=function(){'use strict';return i(this.$VideoErrorOverlay3);};j.prototype.setLinkTitle=function(k){'use strict';h(this.$VideoErrorOverlay3,k);};f.exports=j;},null);
__d('CustomAbrManager',['EventListener','SubscriptionsHandler','VideoPlayerShakaExperiments','Shaka'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('Shaka').player.VideoTrack;l.FIRST_SWITCH_INTERVAL=j.firstSwitchInterval||4000;l.MIN_SWITCH_INTERVAL=j.minSwitchInterval||30000;l.MIN_EVAL_INTERVAL=j.minEvalInterval||3000;l.BANDWIDTH_UPGRADE_TARGET=j.bandwidthUpgradeTarget||.85;l.BANDWIDTH_DOWNGRADE_TARGET=j.bandwidthDowngradeTarget||.95;function l(m){'use strict';this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager3=new i();this.$CustomAbrManager4=Number.POSITIVE_INFINITY;this.$CustomAbrManager5=true;this.$CustomAbrManager6=false;this.$CustomAbrManager7=m.maxWidth;this.$CustomAbrManager8=m.maxHeight;this.$CustomAbrManager9=m.forceHighQualityDefault;}l.prototype.destroy=function(){'use strict';this.$CustomAbrManager3.release();this.$CustomAbrManager3.engage();this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;};l.prototype.setResolutionConstraint=function(m,n){'use strict';this.$CustomAbrManager7=m;this.$CustomAbrManager8=n;this.$CustomAbrManager10();};l.prototype.initialize=function(m,n){'use strict';if(this.$CustomAbrManager1||this.$CustomAbrManager2)return;this.$CustomAbrManager1=m;this.$CustomAbrManager2=n;};l.prototype.start=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2||this.$CustomAbrManager6)return;this.$CustomAbrManager4=Date.now()+l.FIRST_SWITCH_INTERVAL;this.$CustomAbrManager3.addSubscriptions(h.listen(this.$CustomAbrManager1,'bandwidth',this.$CustomAbrManager11.bind(this)),h.listen(this.$CustomAbrManager2,'adaptation',this.$CustomAbrManager12.bind(this)),h.listen(this.$CustomAbrManager2,'trackschanged',this.$CustomAbrManager13.bind(this)));this.$CustomAbrManager6=true;};l.prototype.$CustomAbrManager13=function(){'use strict';this.$CustomAbrManager10();};l.prototype.forceHighQuality=function(m){'use strict';this.$CustomAbrManager9=m;if(!this.$CustomAbrManager6)return;if(m){var n=this.$CustomAbrManager14();if(n)this.selectVideoTrack(n,true);}else this.$CustomAbrManager10();};l.prototype.enable=function(m){'use strict';this.$CustomAbrManager5=m;};l.prototype.getInitialVideoTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var m=this.$CustomAbrManager14();return m?m.id:null;};l.prototype.selectVideoTrack=function(m,n,o){'use strict';if(!this.$CustomAbrManager6)return;this.$CustomAbrManager2.selectVideoTrack(m.id,n,o);};l.$CustomAbrManager15=function(m){'use strict';for(var n=0;n<m.length;++n)if(m[n].active)return m[n];return null;};l.prototype.$CustomAbrManager11=function(event){'use strict';if(Date.now()<this.$CustomAbrManager4)return;this.$CustomAbrManager10(event);};l.prototype.$CustomAbrManager10=function(event){'use strict';if(!this.$CustomAbrManager5)return;var m=this.$CustomAbrManager14();if(m){if(m.active){this.$CustomAbrManager4=Date.now()+l.MIN_EVAL_INTERVAL;return;}this.selectVideoTrack(m,false);}this.$CustomAbrManager4=Number.POSITIVE_INFINITY;};l.prototype.$CustomAbrManager12=function(event){'use strict';if(this.$CustomAbrManager4==Number.POSITIVE_INFINITY)this.$CustomAbrManager4=Date.now()+l.MIN_SWITCH_INTERVAL;};l.prototype.$CustomAbrManager14=function(){'use strict';var m=this.$CustomAbrManager2.getVideoTracks();if(m.length==0)return null;m.sort(k.compare);if(this.$CustomAbrManager9)return m.pop();var n=m[0],o=this.$CustomAbrManager8,p=this.$CustomAbrManager7;m=m.filter(function(y){return y.width<=p||y.height<=o;});var q=l.$CustomAbrManager15(this.$CustomAbrManager2.getAudioTracks()),r=q?q.bandwidth:0,s=this.$CustomAbrManager1.getBandwidth();for(var t=0;t<m.length;t++){var u=m[t],v=t+1<m.length?m[t+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!u.bandwidth)continue;var w=(u.bandwidth+r)/l.BANDWIDTH_DOWNGRADE_TARGET,x=(v.bandwidth+r)/l.BANDWIDTH_UPGRADE_TARGET;if(s>=w&&s<=x){n=u;if(n.active)break;}}return n;};f.exports=l;},null);